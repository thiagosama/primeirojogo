// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,F,H,ba,ca,I,K,da,ea,M,ga,ha,N,ia,ja,ka,la,oa,pa,qa,ra,sa,ta,Q,ua,va,wa,xa,ya,Ba,Ca,Da,R,Ea,Fa,Ga,Ha,S,Ia,Ja,Ka,La,Ma,Na,Oa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,U,Db,Eb,Fb,V,Gb,Hb={},Ib={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});
(function(){function e(s,g,a,b){this.set(s,g,a,b)}function n(){this.pb=this.ob=this.rb=this.qb=this.yb=this.xb=this.Ga=this.Fa=0}function c(s,g,a,b){s<g?a<b?(h=s<a?s:a,q=g>b?g:b):(h=s<b?s:b,q=g>a?g:a):a<b?(h=g<a?g:a,q=s>b?s:b):(h=g<b?g:b,q=s>a?s:a)}function k(){this.items=this.jc=null;this.we=0;m&&(this.jc=new Set);this.Re=[];this.bd=!0}function r(s){p[x++]=s}function a(){this.Na=this.Jh=this.y=this.ci=0}function b(s){this.oa=[];this.ug=this.wg=this.xg=this.vg=0;this.cg(s)}function d(s,g){this.po=
s;this.oo=g;this.cells={}}function t(s,g,a){var b;return z.length?(b=z.pop(),b.Up=s,b.x=g,b.y=a,b):new aa(s,g,a)}function f(s,g,a){this.Up=s;this.x=g;this.y=a;this.Qf=new F}H=function(s){window.console&&window.console.log&&window.console.log(s)};ba=function(s){window.console&&window.console.error&&window.console.error(s)};ca=function(s){return"undefined"===typeof s};I=function(s){return"number"===typeof s};K=function(s){return"string"===typeof s};da=function(s){return 0<s&&0===(s-1&s)};ea=function(s){--s;
for(var g=1;32>g;g<<=1)s|=s>>g;return s+1};M=function(s){return 0>s?-s:s};ga=function(s,g){return s<g?s:g};ha=Math.PI;N=function(s){return 0<=s?s|0:(s|0)-1};ia=function(s){var g=s|0;return g===s?g:g+1};ja=function(s,g,a,b,d,m,f,c){var t,h,l,k;s<a?(h=s,t=a):(h=a,t=s);d<f?(k=d,l=f):(k=f,l=d);if(t<k||h>l)return!1;g<b?(h=g,t=b):(h=b,t=g);m<c?(k=m,l=c):(k=c,l=m);if(t<k||h>l)return!1;t=d-s+f-a;h=m-g+c-b;s=a-s;g=b-g;d=f-d;m=c-m;c=M(g*d-m*s);return M(d*h-m*t)>c?!1:M(s*h-g*t)<=c};e.prototype.set=function(g,
a,b,d){this.left=g;this.top=a;this.right=b;this.bottom=d};e.prototype.so=function(g){this.left=g.left;this.top=g.top;this.right=g.right;this.bottom=g.bottom};e.prototype.width=function(){return this.right-this.left};e.prototype.height=function(){return this.bottom-this.top};e.prototype.offset=function(g,a){this.left+=g;this.top+=a;this.right+=g;this.bottom+=a;return this};e.prototype.normalize=function(){var g=0;this.left>this.right&&(g=this.left,this.left=this.right,this.right=g);this.top>this.bottom&&
(g=this.top,this.top=this.bottom,this.bottom=g)};e.prototype.bq=function(g){return!(g.right<this.left||g.bottom<this.top||g.left>this.right||g.top>this.bottom)};e.prototype.cq=function(g,a,b){return!(g.right+a<this.left||g.bottom+b<this.top||g.left+a>this.right||g.top+b>this.bottom)};e.prototype.Wa=function(g,a){return g>=this.left&&g<=this.right&&a>=this.top&&a<=this.bottom};e.prototype.Po=function(g){return this.left===g.left&&this.top===g.top&&this.right===g.right&&this.bottom===g.bottom};ka=e;
n.prototype.bg=function(g){this.Fa=g.left;this.Ga=g.top;this.xb=g.right;this.yb=g.top;this.qb=g.right;this.rb=g.bottom;this.ob=g.left;this.pb=g.bottom};n.prototype.Lm=function(g,a){if(0===a)this.bg(g);else{var b=Math.sin(a),d=Math.cos(a),m=g.left*b,f=g.top*b,c=g.right*b,b=g.bottom*b,t=g.left*d,h=g.top*d,l=g.right*d,d=g.bottom*d;this.Fa=t-f;this.Ga=h+m;this.xb=l-f;this.yb=h+c;this.qb=l-b;this.rb=d+c;this.ob=t-b;this.pb=d+m}};n.prototype.offset=function(g,a){this.Fa+=g;this.Ga+=a;this.xb+=g;this.yb+=
a;this.qb+=g;this.rb+=a;this.ob+=g;this.pb+=a;return this};var h=0,q=0;n.prototype.yk=function(g){c(this.Fa,this.xb,this.qb,this.ob);g.left=h;g.right=q;c(this.Ga,this.yb,this.rb,this.pb);g.top=h;g.bottom=q};n.prototype.Wa=function(g,a){var b=this.xb-this.Fa,d=this.yb-this.Ga,m=this.qb-this.Fa,f=this.rb-this.Ga,c=g-this.Fa,t=a-this.Ga,h=b*b+d*d,l=b*m+d*f,d=b*c+d*t,k=m*m+f*f,q=m*c+f*t,p=1/(h*k-l*l),b=(k*d-l*q)*p,h=(h*q-l*d)*p;if(0<=b&&0<h&&1>b+h)return!0;b=this.ob-this.Fa;d=this.pb-this.Ga;h=b*b+d*
d;l=b*m+d*f;d=b*c+d*t;p=1/(h*k-l*l);b=(k*d-l*q)*p;h=(h*q-l*d)*p;return 0<=b&&0<h&&1>b+h};n.prototype.Zc=function(g,a){if(a)switch(g){case 0:return this.Fa;case 1:return this.xb;case 2:return this.qb;case 3:return this.ob;case 4:return this.Fa;default:return this.Fa}else switch(g){case 0:return this.Ga;case 1:return this.yb;case 2:return this.rb;case 3:return this.pb;case 4:return this.Ga;default:return this.Ga}};n.prototype.Wl=function(){return(this.Fa+this.xb+this.qb+this.ob)/4};n.prototype.Xl=function(){return(this.Ga+
this.yb+this.rb+this.pb)/4};n.prototype.il=function(g){var a=g.Wl(),b=g.Xl();if(this.Wa(a,b))return!0;a=this.Wl();b=this.Xl();if(g.Wa(a,b))return!0;var d,m,f,c,t,h,l,k;for(l=0;4>l;l++)for(k=0;4>k;k++)if(a=this.Zc(l,!0),b=this.Zc(l,!1),d=this.Zc(l+1,!0),m=this.Zc(l+1,!1),f=g.Zc(k,!0),c=g.Zc(k,!1),t=g.Zc(k+1,!0),h=g.Zc(k+1,!1),ja(a,b,d,m,f,c,t,h))return!0;return!1};la=n;oa=function(g,a){for(var b in a)a.hasOwnProperty(b)&&(g[b]=a[b]);return g};pa=function(g,a){var b,d;a=N(a);if(!(0>a||a>=g.length)){b=
a;for(d=g.length-1;b<d;b++)g[b]=g[b+1];g.length=d}};qa=function(g,a){g.length=a.length;var b,d;b=0;for(d=a.length;b<d;b++)g[b]=a[b]};ra=function(g,a){g.push.apply(g,a)};sa=function(g,a){var b,d;b=0;for(d=g.length;b<d;++b)if(g[b]===a)return b;return-1};ta=function(g,a){var b=sa(g,a);-1!==b&&pa(g,b)};Q=function(g){return g/(180/ha)};ua=function(g){return 180/ha*g};va=function(g){g%=360;0>g&&(g+=360);return g};wa=function(g){g%=2*ha;0>g&&(g+=2*ha);return g};xa=function(g){return va(ua(g))};ya=function(g){return wa(Q(g))};
Ba=function(g,a,b,d){return Math.atan2(d-a,b-g)};Ca=function(g,a){if(g===a)return 0;var b=Math.sin(g),d=Math.cos(g),m=Math.sin(a),f=Math.cos(a),b=b*m+d*f;return 1<=b?0:-1>=b?ha:Math.acos(b)};Da=function(g,a,b){var d=Math.sin(g),m=Math.cos(g),f=Math.sin(a),c=Math.cos(a);return Math.acos(d*f+m*c)>b?0<m*f-d*c?wa(g+b):wa(g-b):wa(a)};R=function(g,a){var b=Math.sin(g),d=Math.cos(g),m=Math.sin(a),f=Math.cos(a);return 0>=d*m-b*f};Ea=function(g,a,b,d){g=b-g;a=d-a;return Math.sqrt(g*g+a*a)};Fa=function(g,a){return!g!==
!a};Ga=function(g){for(var a in g)if(g.hasOwnProperty(a))return!0;return!1};Ha=function(g){for(var a in g)g.hasOwnProperty(a)&&delete g[a]};var u=+new Date;S=function(){if("undefined"!==typeof window.performance){var g=window.performance;if("undefined"!==typeof g.now)return g.now();if("undefined"!==typeof g.webkitNow)return g.webkitNow();if("undefined"!==typeof g.mozNow)return g.mozNow();if("undefined"!==typeof g.msNow)return g.msNow()}return Date.now()-u};var l=!1,v=l=!1,w=!1;"undefined"!==typeof window&&
(l=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),l=!l&&/safari/i.test(navigator.userAgent),v=/(iphone|ipod|ipad)/i.test(navigator.userAgent),w=window.c2ejecta);var m=!l&&!w&&!v&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;k.prototype.contains=function(g){return this.se()?!1:m?this.jc.has(g):this.items&&this.items.hasOwnProperty(g)};k.prototype.add=function(g){if(m)this.jc.has(g)||(this.jc.add(g),this.bd=!1);else{var a=g.toString(),b=this.items;
b?b.hasOwnProperty(a)||(b[a]=g,this.we++,this.bd=!1):(this.items={},this.items[a]=g,this.we=1,this.bd=!1)}};k.prototype.remove=function(g){if(!this.se())if(m)this.jc.has(g)&&(this.jc["delete"](g),this.bd=!1);else if(this.items){g=g.toString();var a=this.items;a.hasOwnProperty(g)&&(delete a[g],this.we--,this.bd=!1)}};k.prototype.clear=function(){this.se()||(m?this.jc.clear():(this.items=null,this.we=0),this.Re.length=0,this.bd=!0)};k.prototype.se=function(){return 0===this.count()};k.prototype.count=
function(){return m?this.jc.size:this.we};var p=null,x=0;k.prototype.er=function(){if(!this.bd){if(m)this.Re.length=this.jc.size,p=this.Re,x=0,this.jc.forEach(r),p=null,x=0;else{var g=this.Re;g.length=this.we;var a,b=0,d=this.items;if(d)for(a in d)d.hasOwnProperty(a)&&(g[b++]=d[a])}this.bd=!0}};k.prototype.xd=function(){this.er();return this.Re};F=k;new F;Ka=function(g,a){m?Ia(g,a.jc):Ja(g,a.xd())};Ia=function(g,a){var b,d,m,f;d=b=0;for(m=g.length;b<m;++b)f=g[b],a.has(f)||(g[d++]=f);g.length=d};Ja=
function(g,a){var b,d,m,f;d=b=0;for(m=g.length;b<m;++b)f=g[b],-1===sa(a,f)&&(g[d++]=f);g.length=d};a.prototype.add=function(g){this.y=g-this.ci;this.Jh=this.Na+this.y;this.ci=this.Jh-this.Na-this.y;this.Na=this.Jh};a.prototype.reset=function(){this.Na=this.Jh=this.y=this.ci=0};La=a;Ma=function(g){return g.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};b.prototype.cg=function(g){this.wm=g;this.gc=g.length/2;this.oa.length=g.length;this.zg=this.Ag=-1;this.Bk=0};b.prototype.ue=function(){return!this.wm.length};
b.prototype.ia=function(){for(var g=this.oa,a=g[0],b=a,d=g[1],m=d,f,c,t=1,h=this.gc;t<h;++t)c=2*t,f=g[c],c=g[c+1],f<a&&(a=f),f>b&&(b=f),c<d&&(d=c),c>m&&(m=c);this.vg=a;this.wg=b;this.xg=d;this.ug=m};b.prototype.bg=function(g,a,b){this.oa.length=8;this.gc=4;var d=this.oa;d[0]=g.left-a;d[1]=g.top-b;d[2]=g.right-a;d[3]=g.top-b;d[4]=g.right-a;d[5]=g.bottom-b;d[6]=g.left-a;d[7]=g.bottom-b;this.Ag=g.right-g.left;this.zg=g.bottom-g.top;this.ia()};b.prototype.Me=function(g,a,b,d,m){this.oa.length=8;this.gc=
4;var f=this.oa;f[0]=g.Fa-a;f[1]=g.Ga-b;f[2]=g.xb-a;f[3]=g.yb-b;f[4]=g.qb-a;f[5]=g.rb-b;f[6]=g.ob-a;f[7]=g.pb-b;this.Ag=d;this.zg=m;this.ia()};b.prototype.Km=function(g){this.gc=g.gc;qa(this.oa,g.oa);this.vg=g.vg;this.xg-g.xg;this.wg=g.wg;this.ug=g.ug};b.prototype.je=function(g,a,b){if(this.Ag!==g||this.zg!==a||this.Bk!==b){this.Ag=g;this.zg=a;this.Bk=b;var d,f,m,c,t,h=0,l=1,k=this.wm,p=this.oa;0!==b&&(h=Math.sin(b),l=Math.cos(b));b=0;for(m=this.gc;b<m;b++)d=2*b,f=d+1,c=k[d]*g,t=k[f]*a,p[d]=c*l-t*
h,p[f]=t*l+c*h;this.ia()}};b.prototype.Wa=function(g,a){var b=this.oa;if(g===b[0]&&a===b[1])return!0;var d,f,m,c=this.gc,t=this.vg-110,h=this.xg-101,l=this.wg+131,k=this.ug+120,p,q,n=0,e=0;for(d=0;d<c;d++)f=2*d,m=(d+1)%c*2,p=b[f],f=b[f+1],q=b[m],m=b[m+1],ja(t,h,g,a,p,f,q,m)&&n++,ja(l,k,g,a,p,f,q,m)&&e++;return 1===n%2||1===e%2};b.prototype.vf=function(g,a,b){var d=g.oa,f=this.oa;if(this.Wa(d[0]+a,d[1]+b)||g.Wa(f[0]-a,f[1]-b))return!0;var m,c,t,h,l,k,p,q,n,e,r,v;m=0;for(h=this.gc;m<h;m++)for(c=2*m,
t=(m+1)%h*2,q=f[c],c=f[c+1],n=f[t],e=f[t+1],t=0,p=g.gc;t<p;t++)if(l=2*t,k=(t+1)%p*2,r=d[l]+a,l=d[l+1]+b,v=d[k]+a,k=d[k+1]+b,ja(q,c,n,e,r,l,v,k))return!0;return!1};Na=b;d.prototype.Ci=function(g,a,b){var d;d=this.cells[g];return d?(d=d[a])?d:b?(d=t(this,g,a),this.cells[g][a]=d):null:b?(d=t(this,g,a),this.cells[g]={},this.cells[g][a]=d):null};d.prototype.qg=function(g){return N(g/this.po)};d.prototype.rg=function(g){return N(g/this.oo)};d.prototype.update=function(g,a,b){var d,f,m,c,t;if(a)for(d=a.left,
f=a.right;d<=f;++d)for(m=a.top,c=a.bottom;m<=c;++m)if(!b||!b.Wa(d,m))if(t=this.Ci(d,m,!1))t.remove(g),t.se()&&(t.Qf.clear(),1E3>z.length&&z.push(t),this.cells[d][m]=null);if(b)for(d=b.left,f=b.right;d<=f;++d)for(m=b.top,c=b.bottom;m<=c;++m)a&&a.Wa(d,m)||this.Ci(d,m,!0).aq(g)};d.prototype.ym=function(g,a){var b,d,m,f,c,t;b=this.qg(g.left);m=this.rg(g.top);d=this.qg(g.right);for(c=this.rg(g.bottom);b<=d;++b)for(f=m;f<=c;++f)(t=this.Ci(b,f,!1))&&t.dump(a)};Oa=d;var z=[];f.prototype.se=function(){return this.Qf.se()};
f.prototype.aq=function(g){this.Qf.add(g)};f.prototype.remove=function(g){this.Qf.remove(g)};f.prototype.dump=function(g){ra(g,this.Qf.xd())};aa=f;var g="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Qa=function(a){return 0>=a||11<=a?"source-over":g[a-1]};Ra=function(g,a,b){if(b)switch(g.Ma=b.ONE,g.La=b.ONE_MINUS_SRC_ALPHA,a){case 1:g.Ma=b.ONE;g.La=b.ONE;break;case 3:g.Ma=b.ONE;g.La=b.ZERO;break;case 4:g.Ma=b.ONE_MINUS_DST_ALPHA;
g.La=b.ONE;break;case 5:g.Ma=b.DST_ALPHA;g.La=b.ZERO;break;case 6:g.Ma=b.ZERO;g.La=b.SRC_ALPHA;break;case 7:g.Ma=b.ONE_MINUS_DST_ALPHA;g.La=b.ZERO;break;case 8:g.Ma=b.ZERO;g.La=b.ONE_MINUS_SRC_ALPHA;break;case 9:g.Ma=b.DST_ALPHA;g.La=b.ONE_MINUS_SRC_ALPHA;break;case 10:g.Ma=b.ONE_MINUS_DST_ALPHA,g.La=b.SRC_ALPHA}};Sa=function(g){return Math.round(1E6*g)/1E6};Ta=function(g,a){return"string"!==typeof g||"string"!==typeof a||g.length!==a.length?!1:g===a?!0:g.toLowerCase()===a.toLowerCase()};Ua=function(g){g=
g.target;return!g||g===document||g===window||document&&document.body&&g===document.body||Ta(g.tagName,"canvas")?!0:!1}})();var Jb="undefined"!==typeof Float32Array?Float32Array:Array;function Kb(e){var n=new Jb(3);e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]);return n}function Lb(e){var n=new Jb(16);e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]);return n}
function Mb(e,n){n[0]=e[0];n[1]=e[1];n[2]=e[2];n[3]=e[3];n[4]=e[4];n[5]=e[5];n[6]=e[6];n[7]=e[7];n[8]=e[8];n[9]=e[9];n[10]=e[10];n[11]=e[11];n[12]=e[12];n[13]=e[13];n[14]=e[14];n[15]=e[15]}function Nb(e,n){var c=n[0],k=n[1];n=n[2];e[0]*=c;e[1]*=c;e[2]*=c;e[3]*=c;e[4]*=k;e[5]*=k;e[6]*=k;e[7]*=k;e[8]*=n;e[9]*=n;e[10]*=n;e[11]*=n}
function Ob(e,n,c,k){k||(k=Lb());var r,a,b,d,t,f,h,q,u=e[0],l=e[1];e=e[2];a=c[0];b=c[1];r=c[2];c=n[1];f=n[2];u===n[0]&&l===c&&e===f?(e=k,e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1):(c=u-n[0],f=l-n[1],h=e-n[2],q=1/Math.sqrt(c*c+f*f+h*h),c*=q,f*=q,h*=q,n=b*h-r*f,r=r*c-a*h,a=a*f-b*c,(q=Math.sqrt(n*n+r*r+a*a))?(q=1/q,n*=q,r*=q,a*=q):a=r=n=0,b=f*a-h*r,d=h*n-c*a,t=c*r-f*n,(q=Math.sqrt(b*b+d*d+t*t))?(q=1/q,b*=q,d*=q,t*=q):t=d=b=0,
k[0]=n,k[1]=b,k[2]=c,k[3]=0,k[4]=r,k[5]=d,k[6]=f,k[7]=0,k[8]=a,k[9]=t,k[10]=h,k[11]=0,k[12]=-(n*u+r*l+a*e),k[13]=-(b*u+d*l+t*e),k[14]=-(c*u+f*l+h*e),k[15]=1)}
(function(){function e(a){this.te=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Ck=Kb([0,0,100]);this.Fl=Kb([0,0,0]);this.gn=Kb([0,1,0]);this.ck=Kb([1,1,1]);this.Mk=!0;this.lj=Lb();this.Kb=Lb();this.wl=Lb();this.ki=Lb();this.k=a;this.el()}function n(a,b,d){this.k=a;this.dg=b;this.name=d;this.Jb=a.getAttribLocation(b,"aPos");this.jd=a.getAttribLocation(b,"aTex");this.Dl=a.getUniformLocation(b,"matP");this.kh=a.getUniformLocation(b,"matMV");this.Be=
a.getUniformLocation(b,"opacity");this.El=a.getUniformLocation(b,"samplerFront");this.Jf=a.getUniformLocation(b,"samplerBack");this.Td=a.getUniformLocation(b,"destStart");this.Sd=a.getUniformLocation(b,"destEnd");this.jj=a.getUniformLocation(b,"seconds");this.ij=a.getUniformLocation(b,"pixelWidth");this.hj=a.getUniformLocation(b,"pixelHeight");this.If=a.getUniformLocation(b,"layerScale");this.Hf=a.getUniformLocation(b,"layerAngle");this.Lf=a.getUniformLocation(b,"viewOrigin");this.Kf=a.getUniformLocation(b,
"scrollPos");this.Xp=!!(this.ij||this.hj||this.jj||this.Jf||this.Td||this.Sd||this.If||this.Hf||this.Lf||this.Kf);this.Nl=this.Ol=-999;this.mh=1;this.Jl=this.Il=0;this.Ll=this.Hl=this.Gl=1;this.Ql=this.Pl=this.Sl=this.Rl=this.Kl=0;this.$i=[];this.Ml=Lb();this.Be&&a.uniform1f(this.Be,1);this.El&&a.uniform1i(this.El,0);this.Jf&&a.uniform1i(this.Jf,1);this.Td&&a.uniform2f(this.Td,0,0);this.Sd&&a.uniform2f(this.Sd,1,1);this.If&&a.uniform1f(this.If,1);this.Hf&&a.uniform1f(this.Hf,0);this.Lf&&a.uniform2f(this.Lf,
0,0);this.Kf&&a.uniform2f(this.Kf,0,0);this.Id=!1}function c(a,b){this.type=a;this.A=b;this.k=b.k;this.sc=this.Pb=this.lm=0;this.P=this.mc=null;this.Mm=[]}e.prototype.el=function(){var a=this.k,b;this.xl=1;this.Qd=this.Pd=null;this.Hg=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.yl=a.ONE;this.ul=a.ONE_MINUS_SRC_ALPHA;this.xj=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.xj);this.og=
Array(4);this.hg=Array(4);for(b=0;4>b;b++)this.og[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.og[b]),this.hg[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.hg[b]);this.Ec=0;this.Zp=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Zp);this.bk=new Float32Array(16E3);this.Tj=new Float32Array(16E3);this.Cq=new Float32Array(32E3);for(var d=new Uint16Array(12E3),c=b=0;12E3>b;)d[b++]=c,d[b++]=c+1,d[b++]=c+2,d[b++]=c,d[b++]=c+2,d[b++]=c+3,c+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,d,
a.STATIC_DRAW);this.yj=this.yc=0;this.ta=[];b=this.ji({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.ta.push(b);b=this.ji({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.ta.push(b);for(var f in Pb)Pb.hasOwnProperty(f)&&this.ta.push(this.ji(Pb[f],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",f));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.ad=[];this.Cc=0;this.cb=!1;this.Ik=this.Cf=-1;this.df=null;this.np=a.createFramebuffer();this.Cm=null;this.ud=Kb([0,0,0]);this.Tl=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Tl&&
(this.Tl=2048);this.vc(0)};n.prototype.Yj=function(a){var b=this.Ml;if(b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]||b[3]!==a[3]||b[4]!==a[4]||b[5]!==a[5]||b[6]!==a[6]||b[7]!==a[7]||b[8]!==a[8]||b[9]!==a[9]||b[10]!==a[10]||b[11]!==a[11]||b[12]!==a[12]||b[13]!==a[13]||b[14]!==a[14]||b[15]!==a[15])Mb(a,this.Ml),this.k.uniformMatrix4fv(this.kh,!1,a)};e.prototype.ji=function(a,b,d){var c=this.k,f=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(f,a.src);c.compileShader(f);if(!c.getShaderParameter(f,c.COMPILE_STATUS))return c.deleteShader(f),
null;var h=c.createShader(c.VERTEX_SHADER);c.shaderSource(h,b);c.compileShader(h);if(!c.getShaderParameter(h,c.COMPILE_STATUS))return c.deleteShader(f),c.deleteShader(h),null;b=c.createProgram();c.attachShader(b,f);c.attachShader(b,h);c.linkProgram(b);if(!c.getProgramParameter(b,c.LINK_STATUS))return c.deleteShader(f),c.deleteShader(h),c.deleteProgram(b),null;c.useProgram(b);c.deleteShader(f);c.deleteShader(h);d=new n(c,b,d);d.si=a.si||0;d.ti=a.ti||0;d.Hk=!!a.Hk;d.vk=!!a.vk;d.D=a.D||[];a=0;for(f=
d.D.length;a<f;a++)d.D[a][1]=c.getUniformLocation(b,d.D[a][0]),d.$i.push(0),c.uniform1f(d.D[a][1],0);return d};e.prototype.Ii=function(a){var b,d;b=0;for(d=this.ta.length;b<d;b++)if(this.ta[b].name===a)return b;return-1};e.prototype.vm=function(a,b,d){var c=this.Kb,f=this.lj,h=[0,0,0,0,0,0,0,0];h[0]=c[0]*a+c[4]*b+c[12];h[1]=c[1]*a+c[5]*b+c[13];h[2]=c[2]*a+c[6]*b+c[14];h[3]=c[3]*a+c[7]*b+c[15];h[4]=f[0]*h[0]+f[4]*h[1]+f[8]*h[2]+f[12]*h[3];h[5]=f[1]*h[0]+f[5]*h[1]+f[9]*h[2]+f[13]*h[3];h[6]=f[2]*h[0]+
f[6]*h[1]+f[10]*h[2]+f[14]*h[3];h[7]=-h[2];0!==h[7]&&(h[7]=1/h[7],h[4]*=h[7],h[5]*=h[7],h[6]*=h[7],d[0]=(.5*h[4]+.5)*this.width,d[1]=(.5*h[5]+.5)*this.height)};e.prototype.Le=function(a,b,d){if(this.width!==a||this.height!==b||d){this.Fd();this.width=a;this.height=b;this.k.viewport(0,0,a,b);b=a/b;var c=this.lj,f;f=1*Math.tan(45*Math.PI/360);b*=f;a=-b;d=-f;c||(c=Lb());var h=b-a,k=f-d;c[0]=2/h;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=2/k;c[6]=0;c[7]=0;c[8]=(b+a)/h;c[9]=(f+d)/k;c[10]=-1001/999;c[11]=-1;c[12]=
0;c[13]=0;c[14]=-2E3/999;c[15]=0;Ob(this.Ck,this.Fl,this.gn,this.Kb);a=[0,0];b=[0,0];this.vm(0,0,a);this.vm(1,1,b);this.ck[0]=1/(b[0]-a[0]);this.ck[1]=-1/(b[1]-a[1]);a=0;for(b=this.ta.length;a<b;a++)d=this.ta[a],d.Id=!1,d.Dl&&(this.k.useProgram(d.dg),this.k.uniformMatrix4fv(d.Dl,!1,this.lj));this.k.useProgram(this.ta[this.Cf].dg);this.k.bindTexture(this.k.TEXTURE_2D,null);this.k.activeTexture(this.k.TEXTURE1);this.k.bindTexture(this.k.TEXTURE_2D,null);this.k.activeTexture(this.k.TEXTURE0);this.Qd=
this.Pd=null}};e.prototype.nd=function(){Ob(this.Ck,this.Fl,this.gn,this.Kb);Nb(this.Kb,this.ck)};e.prototype.translate=function(a,b){if(0!==a||0!==b){this.ud[0]=a;this.ud[1]=b;this.ud[2]=0;var d=this.Kb,c=this.ud,f=c[0],h=c[1],c=c[2];d[12]=d[0]*f+d[4]*h+d[8]*c+d[12];d[13]=d[1]*f+d[5]*h+d[9]*c+d[13];d[14]=d[2]*f+d[6]*h+d[10]*c+d[14];d[15]=d[3]*f+d[7]*h+d[11]*c+d[15]}};e.prototype.scale=function(a,b){if(1!==a||1!==b)this.ud[0]=a,this.ud[1]=b,this.ud[2]=1,Nb(this.Kb,this.ud)};e.prototype.Dm=function(a){if(0!==
a){var b=this.Kb,d,c=Math.sin(a);a=Math.cos(a);var f=b[0],h=b[1],k=b[2],n=b[3],l=b[4],e=b[5],r=b[6],m=b[7];d?b!==d&&(d[8]=b[8],d[9]=b[9],d[10]=b[10],d[11]=b[11],d[12]=b[12],d[13]=b[13],d[14]=b[14],d[15]=b[15]):d=b;d[0]=f*a+l*c;d[1]=h*a+e*c;d[2]=k*a+r*c;d[3]=n*a+m*c;d[4]=f*-c+l*a;d[5]=h*-c+e*a;d[6]=k*-c+r*a;d[7]=n*-c+m*a}};e.prototype.wd=function(){for(var a=!1,b=0;16>b;b++)if(this.wl[b]!==this.Kb[b]){a=!0;break}a&&(a=this.hc(),a.type=5,a.P?Mb(this.Kb,a.P):a.P=Lb(this.Kb),Mb(this.Kb,this.wl),this.cb=
!1)};c.prototype.Io=function(){this.k.bindTexture(this.k.TEXTURE_2D,this.mc)};c.prototype.Jo=function(){var a=this.k;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.mc);a.activeTexture(a.TEXTURE0)};c.prototype.Fo=function(){var a=this.lm,b=this.A;b.Hg=a;b=b.df;b.Be&&b.mh!==a&&(b.mh=a,this.k.uniform1f(b.Be,a))};c.prototype.Co=function(){this.k.drawElements(this.k.TRIANGLES,this.sc,this.k.UNSIGNED_SHORT,2*this.Pb)};c.prototype.Eo=function(){this.k.blendFunc(this.Pb,this.sc)};c.prototype.Ko=
function(){var a,b,d,c=this.A.ta,f=this.A.Ik;a=0;for(b=c.length;a<b;a++)d=c[a],a===f&&d.kh?(d.Yj(this.P),d.Id=!0):d.Id=!1;Mb(this.P,this.A.ki)};c.prototype.Do=function(){var a=this.k,b=this.A;this.mc?(b.Qd===this.mc&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.Qd=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.np),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.mc,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,
null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};c.prototype.Ao=function(){var a=this.k;0===this.Pb?(a.clearColor(this.P[0],this.P[1],this.P[2],this.P[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.P[0],this.P[1],this.P[2],this.P[3]),a.clearColor(0,0,0,0),a.clear(this.k.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};c.prototype.Bo=function(){var a=this.k,b=this.A,d=b.ta[1];a.useProgram(d.dg);!d.Id&&d.kh&&(d.Yj(b.ki),d.Id=!0);a.enableVertexAttribArray(d.Jb);a.bindBuffer(a.ARRAY_BUFFER,
b.xj);a.vertexAttribPointer(d.Jb,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Pb/4,this.sc);d=b.df;a.useProgram(d.dg);0<=d.Jb&&(a.enableVertexAttribArray(d.Jb),a.bindBuffer(a.ARRAY_BUFFER,b.og[b.Ec]),a.vertexAttribPointer(d.Jb,2,a.FLOAT,!1,0,0));0<=d.jd&&(a.enableVertexAttribArray(d.jd),a.bindBuffer(a.ARRAY_BUFFER,b.hg[b.Ec]),a.vertexAttribPointer(d.jd,2,a.FLOAT,!1,0,0))};c.prototype.Go=function(){var a=this.k,b=this.A,d=b.ta[this.Pb];b.Ik=this.Pb;b.df=d;a.useProgram(d.dg);!d.Id&&d.kh&&(d.Yj(b.ki),
d.Id=!0);d.Be&&d.mh!==b.Hg&&(d.mh=b.Hg,a.uniform1f(d.Be,b.Hg));0<=d.Jb&&(a.enableVertexAttribArray(d.Jb),a.bindBuffer(a.ARRAY_BUFFER,b.og[b.Ec]),a.vertexAttribPointer(d.Jb,2,a.FLOAT,!1,0,0));0<=d.jd&&(a.enableVertexAttribArray(d.jd),a.bindBuffer(a.ARRAY_BUFFER,b.hg[b.Ec]),a.vertexAttribPointer(d.jd,2,a.FLOAT,!1,0,0))};c.prototype.Ho=function(){var a,b,d=this.A.df,c=this.k;a=this.P;d.Jf&&this.A.Qd!==this.mc&&(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,this.mc),this.A.Qd=this.mc,c.activeTexture(c.TEXTURE0));
var f=a[0];d.ij&&f!==d.Ol&&(d.Ol=f,c.uniform1f(d.ij,f));f=a[1];d.hj&&f!==d.Nl&&(d.Nl=f,c.uniform1f(d.hj,f));f=a[2];b=a[3];!d.Td||f===d.Il&&b===d.Jl||(d.Il=f,d.Jl=b,c.uniform2f(d.Td,f,b));f=a[4];b=a[5];!d.Sd||f===d.Gl&&b===d.Hl||(d.Gl=f,d.Hl=f,c.uniform2f(d.Sd,f,b));f=a[6];d.If&&f!==d.Ll&&(d.Ll=f,c.uniform1f(d.If,f));f=a[7];d.Hf&&f!==d.Kl&&(d.Kl=f,c.uniform1f(d.Hf,f));f=a[8];b=a[9];!d.Lf||f===d.Rl&&b===d.Sl||(d.Rl=f,d.Sl=b,c.uniform2f(d.Lf,f,b));f=a[10];b=a[11];!d.Kf||f===d.Pl&&b===d.Ql||(d.Pl=f,d.Ql=
b,c.uniform2f(d.Kf,f,b));d.jj&&c.uniform1f(d.jj,S()/1E3);if(d.D.length)for(a=0,b=d.D.length;a<b;a++)f=this.Mm[a],f!==d.$i[a]&&(d.$i[a]=f,c.uniform1f(d.D[a][1],f))};e.prototype.hc=function(){this.Cc===this.ad.length&&this.ad.push(new c(0,this));return this.ad[this.Cc++]};e.prototype.Fd=function(){if(0!==this.Cc&&!this.k.isContextLost()){var a=this.k;0<this.yj&&(a.bindBuffer(a.ARRAY_BUFFER,this.xj),a.bufferData(a.ARRAY_BUFFER,this.Cq.subarray(0,this.yj),a.STREAM_DRAW),b&&0<=b.Jb&&"<point>"===b.name&&
a.vertexAttribPointer(b.Jb,4,a.FLOAT,!1,0,0));if(0<this.yc){var b=this.df;a.bindBuffer(a.ARRAY_BUFFER,this.og[this.Ec]);a.bufferData(a.ARRAY_BUFFER,this.bk.subarray(0,this.yc),a.STREAM_DRAW);b&&0<=b.Jb&&"<point>"!==b.name&&a.vertexAttribPointer(b.Jb,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.hg[this.Ec]);a.bufferData(a.ARRAY_BUFFER,this.Tj.subarray(0,this.yc),a.STREAM_DRAW);b&&0<=b.jd&&"<point>"!==b.name&&a.vertexAttribPointer(b.jd,2,a.FLOAT,!1,0,0)}for(var d,a=0,b=this.Cc;a<b;a++)switch(d=
this.ad[a],d.type){case 1:d.Co();break;case 2:d.Io();break;case 3:d.Fo();break;case 4:d.Eo();break;case 5:d.Ko();break;case 6:d.Do();break;case 7:d.Ao();break;case 8:d.Bo();break;case 9:d.Go();break;case 10:d.Ho();break;case 11:d.Jo()}this.yj=this.yc=this.Cc=0;this.cb=!1;this.Ec++;4<=this.Ec&&(this.Ec=0)}};e.prototype.ag=function(a){if(a!==this.xl){var b=this.hc();b.type=3;this.xl=b.lm=a;this.cb=!1}};e.prototype.Ob=function(a){if(a!==this.Pd){var b=this.hc();b.type=2;this.Pd=b.mc=a;this.cb=!1}};e.prototype.od=
function(a,b){if(a!==this.yl||b!==this.ul){var d=this.hc();d.type=4;d.Pb=a;d.sc=b;this.yl=a;this.ul=b;this.cb=!1}};e.prototype.Im=function(){this.od(this.k.ONE,this.k.ONE_MINUS_SRC_ALPHA)};e.prototype.wh=function(a,b,d,c,f,h,k,n){15992<=this.yc&&this.Fd();var l=this.yc,e=this.bk,r=this.Tj;if(this.cb)this.ad[this.Cc-1].sc+=6;else{var m=this.hc();m.type=1;m.Pb=l/4*3;m.sc=6;this.cb=!0}e[l]=a;r[l++]=0;e[l]=b;r[l++]=0;e[l]=d;r[l++]=1;e[l]=c;r[l++]=0;e[l]=f;r[l++]=1;e[l]=h;r[l++]=1;e[l]=k;r[l++]=0;e[l]=
n;r[l++]=1;this.yc=l};e.prototype.Wd=function(a,b,d,c,f,h,k,e,l){15992<=this.yc&&this.Fd();var n=this.yc,r=this.bk,m=this.Tj;if(this.cb)this.ad[this.Cc-1].sc+=6;else{var p=this.hc();p.type=1;p.Pb=n/4*3;p.sc=6;this.cb=!0}var p=l.left,x=l.top,z=l.right;l=l.bottom;r[n]=a;m[n++]=p;r[n]=b;m[n++]=x;r[n]=d;m[n++]=z;r[n]=c;m[n++]=x;r[n]=f;m[n++]=z;r[n]=h;m[n++]=l;r[n]=k;m[n++]=p;r[n]=e;m[n++]=l;this.yc=n};e.prototype.vc=function(a){if(this.Cf!==a){if(!this.ta[a]){if(0===this.Cf)return;a=0}var b=this.hc();
b.type=9;this.Cf=b.Pb=a;this.cb=!1}};e.prototype.Xf=function(a){a=this.ta[a];return!(!a.Td&&!a.Sd)};e.prototype.Aj=function(a){a=this.ta[a];return!!(a.Td||a.Sd||a.Hk)};e.prototype.Hq=function(a){a=this.ta[a];return 0!==a.si||0!==a.ti};e.prototype.Bp=function(a){return this.ta[a].si};e.prototype.Cp=function(a){return this.ta[a].ti};e.prototype.Dp=function(a,b){return this.ta[a].D[b][2]};e.prototype.vh=function(a){return this.ta[a].vk};e.prototype.Ke=function(a,b,d,c,f,h,k,n,l,e,r,m,p,x){var z=this.ta[this.Cf],
g,s;if(z.Xp||x.length){g=this.hc();g.type=10;g.P?Mb(this.Kb,g.P):g.P=Lb();s=g.P;s[0]=b;s[1]=d;s[2]=c;s[3]=f;s[4]=h;s[5]=k;s[6]=n;s[7]=l;s[8]=e;s[9]=r;s[10]=m;s[11]=p;g.mc=z.Jf?a:null;if(x.length)for(d=g.Mm,d.length=x.length,a=0,b=x.length;a<b;a++)d[a]=x[a];this.cb=!1}};e.prototype.clear=function(a,b,d,c){var f=this.hc();f.type=7;f.Pb=0;f.P||(f.P=Lb());f.P[0]=a;f.P[1]=b;f.P[2]=d;f.P[3]=c;this.cb=!1};e.prototype.clearRect=function(a,b,d,c){if(!(0>d||0>c)){var f=this.hc();f.type=7;f.Pb=1;f.P||(f.P=Lb());
f.P[0]=a;f.P[1]=b;f.P[2]=d;f.P[3]=c;this.cb=!1}};e.prototype.Gq=function(){this.Fd();this.k.flush()};var k=[],r={};e.prototype.ro=function(){k.length=0;r={}};e.prototype.Cl=function(a,b,d){var c;c=!1;b=!!b;var f=a.src+","+c+","+b+(c?",undefined":""),h=null;if("undefined"!==typeof a.src&&r.hasOwnProperty(f))return h=r[f],h.yg++,h;this.Fd();var q=this.k,n=da(a.width)&&da(a.height),h=q.createTexture();q.bindTexture(q.TEXTURE_2D,h);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var l=q.RGBA,e=q.RGBA,
w=q.UNSIGNED_BYTE;if(d&&!this.te)switch(d){case 1:e=l=q.RGB;break;case 2:w=q.UNSIGNED_SHORT_4_4_4_4;break;case 3:w=q.UNSIGNED_SHORT_5_5_5_1;break;case 4:e=l=q.RGB,w=q.UNSIGNED_SHORT_5_6_5}if(!n&&c){d=document.createElement("canvas");d.width=ea(a.width);d.height=ea(a.height);var m=d.getContext("2d");m.webkitImageSmoothingEnabled=b;m.mozImageSmoothingEnabled=b;m.msImageSmoothingEnabled=b;m.imageSmoothingEnabled=b;m.drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height);q.texImage2D(q.TEXTURE_2D,0,l,
e,w,d)}else q.texImage2D(q.TEXTURE_2D,0,l,e,w,a);c?(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.REPEAT),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.REPEAT)):(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE));b?(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.LINEAR),n&&this.Mk?(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.LINEAR_MIPMAP_LINEAR),q.generateMipmap(q.TEXTURE_2D)):q.texParameteri(q.TEXTURE_2D,
q.TEXTURE_MIN_FILTER,q.LINEAR)):(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.NEAREST),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.NEAREST));q.bindTexture(q.TEXTURE_2D,null);this.Pd=null;h.Ze=a.width;h.Ye=a.height;h.yg=1;h.Ak=f;k.push(h);return r[f]=h};e.prototype.cd=function(a,b,d){var c;this.Fd();var f=this.k;this.te&&(c=!1);var h=f.createTexture();f.bindTexture(f.TEXTURE_2D,h);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,a,b,0,f.RGBA,c?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,null);f.texParameteri(f.TEXTURE_2D,
f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,d?f.LINEAR:f.NEAREST);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,d?f.LINEAR:f.NEAREST);f.bindTexture(f.TEXTURE_2D,null);this.Pd=null;h.Ze=a;h.Ye=b;k.push(h);return h};e.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.yg&&1<a.yg?a.yg--:(this.Fd(),a===this.Pd&&(this.k.bindTexture(this.k.TEXTURE_2D,null),this.Pd=null),a===this.Qd&&(this.k.activeTexture(this.k.TEXTURE1),
this.k.bindTexture(this.k.TEXTURE_2D,null),this.k.activeTexture(this.k.TEXTURE0),this.Qd=null),ta(k,a),"undefined"!==typeof a.Ak&&delete r[a.Ak],this.k.deleteTexture(a)))};e.prototype.uc=function(a){if(a!==this.Cm){var b=this.hc();b.type=6;this.Cm=b.mc=a;this.cb=!1}};Va=e})();
(function(){function e(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function n(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function c(g){if(g&&(g.getContext||g.dc)&&!g.c2runtime){g.c2runtime=this;var a=this;this.ac=(this.Wg=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2isphonegap&&window.c2isphonegap;this.Oc=!!g.dc;this.wf="undefined"!==typeof window.AppMobi||this.Oc;this.Hb=!!window.c2cocoonjs;this.$b=!!window.c2ejecta;this.Hb&&(CocoonJS.App.onSuspended.addEventListener(function(){a.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){a.setSuspended(!1)}));this.$b&&(document.addEventListener("pagehide",function(){a.setSuspended(!0)}),document.addEventListener("pageshow",
function(){a.setSuspended(!1)}),document.addEventListener("resize",function(){a.setSize(window.innerWidth,window.innerHeight)}));this.da=this.Oc||this.Hb||this.$b;this.te=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent);this.nl=/tizen/i.test(navigator.userAgent);this.kl=/android/i.test(navigator.userAgent)&&!this.nl&&!this.te;this.Yi=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.te;this.sl=/ipad/i.test(navigator.userAgent);
this.rl=this.Yi||this.sl||this.$b;this.mq=this.Yi&&/os\s6/i.test(navigator.userAgent);this.Vg=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);this.jl=/amazonwebappplatform/i.test(navigator.userAgent);this.gq=/firefox/i.test(navigator.userAgent);this.iq=/safari/i.test(navigator.userAgent)&&!this.Vg&&!this.te;this.gd="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);this.kq=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.lq=
!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Xg=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.pl=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.ol=this.kq||this.lq||this.pl;this.dq=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.ll=this.kl&&!this.Vg&&!this.Wg&&!this.gq&&!this.jl&&!this.da;this.devicePixelRatio=1;this.fd=this.ac||this.Wg||this.wf||this.Hb||this.kl||
this.rl||this.Xg||this.pl||this.dq||this.nl||this.$b;this.fd||(this.fd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.gd||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.gd=!0);this.fq="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=g;this.Dk=document.getElementById("c2canvasdiv");this.R=this.A=this.k=null;this.xi=
"";this.Mg=!1;this.dm=this.em=0;this.canvas.oncontextmenu=function(g){g.preventDefault&&g.preventDefault();return!1};this.canvas.onselectstart=function(g){g.preventDefault&&g.preventDefault();return!1};this.Oc&&(window.c2runtime=this);this.gd&&(window.ondragover=function(g){g.preventDefault();return!1},window.ondrop=function(g){g.preventDefault();return!1},require("nw.gui").App.clearCache());this.ll&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=g.width;
this.height=g.height;this.I=this.width;this.H=this.height;this.Fg=this.width;this.Eg=this.height;this.Ef=window.innerWidth;this.Df=window.innerHeight;this.pp=!1;this.X=!0;this.yf=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.n=[];this.ja=[];this.cj={};this.ec=[];this.qi={};this.Jc=[];this.Te=[];this.Sh=[];this.ho=[];this.io=[];this.tl=this.Rm=null;this.Cd={};this.Ti=this.ed=!1;this.Pc=0;this.Vi=!1;this.Vb=[];this.Qc=this.Ra=this.hh=this.Oj="";this.gg=this.Pm=
!1;this.hi=this.Mf=this.Ic=this.me=0;this.kg=1;this.ye=new La;this.Vh=new La;this.dh=0;this.Vl=!0;this.rh=this.Pg=this.ri=this.ig=this.Ff=this.wi=0;this.fi=null;this.Jg=[];this.pi=[];this.Kg=-1;this.kj=[[]];this.Wj=this.lh=0;this.Cj(null);this.jf=this.Zl=this.Pf=0;this.Ih=[];this.Ph=this.xh=-1;this.ah=!0;this.jh=0;this.xf=!1;this.Wq=0;this.Xe=null;this.Vp=!1;this.aj=0;this.Ib=this.Ji=this.Ej=!1;this.cm=new F;this.oj=new F;this.pj=new F;this.Am=[];this.kc=new Na([]);this.Sj=new Na([]);this.ie=[];this.Ug=
{};this.ke={};this.he={};this.Se={};this.xk={};this.Bl=this.fh=this.gb=this.tb=this.Al=this.eh=this.Y=null;this.Qe=this.Xi=!1;this.yi=[null,null];this.Hd=0;this.kd={};this.Eh=this.Ae=null;this.qh=[];this.Kq()}}function k(g){g.target.result.createObjectStore("saves",{keyPath:"slot"})}function r(g,a,b,d){var c=indexedDB.open("_C2SaveStates");c.onupgradeneeded=k;c.onerror=d;c.onsuccess=function(c){c=c.target.result;c.onerror=d;c.transaction(["saves"],"readwrite").objectStore("saves").put({slot:g,data:a}).onsuccess=
b}}function a(g,a,b){var d=indexedDB.open("_C2SaveStates");d.onupgradeneeded=k;d.onerror=b;d.onsuccess=function(d){d=d.target.result;d.onerror=b;var c=d.transaction(["saves"]).objectStore("saves").get(g);c.onsuccess=function(){c.result?a(c.result.data):a(null)}}}function b(){H("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function d(g){var a,b={};for(a in g)!g.hasOwnProperty(a)||
g[a]instanceof F||g[a]&&"undefined"!==typeof g[a].ys||(b[a]=g[a]);return b}c.prototype.Kq=function(){var g=this,a;a=this.Xg?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;a.open("GET","data.js",!0);var b=!1;if(!this.da&&"response"in a&&"responseType"in a)try{a.responseType="json",b="json"===a.responseType}catch(d){b=!1}if(!b&&"responseType"in a)try{a.responseType="text"}catch(c){}if("overrideMimeType"in a)try{a.overrideMimeType("application/json; charset=utf-8")}catch(m){}a.onload=function(){if(b)g.gj(a.response);
else if(g.$b){var d=a.responseText,d=d.substr(d.indexOf("{"));g.gj(JSON.parse(d))}else g.gj(JSON.parse(a.responseText))};a.onerror=function(g){ba("Error requesting data.js:");ba(g)};a.send()};c.prototype.$p=function(){var g=this,a,b,d,c,m,f,h,l,k;this.devicePixelRatio=(this.Md=(!this.da||this.$b)&&this.fr&&!this.ll)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Ja();b=!(!this.pp&&(!this.Yh||this.gd||this.ol||this.Xg||this.Wg||
this.ac||this.jl));0<this.ab&&this.setSize(e(),n(),!0);try{this.No&&(this.Hb||this.$b||!this.da)&&(a={alpha:b,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.k=this.canvas.getContext("webgl",a)||this.canvas.getContext("experimental-webgl",a))}catch(p){}if(this.k){this.da||(this.Ca=document.createElement("canvas"),jQuery(this.Ca).appendTo(this.canvas.parentNode),this.Ca.oncontextmenu=function(){return!1},this.Ca.onselectstart=function(){return!1},this.Ca.width=this.Fg,this.Ca.height=this.Eg,
jQuery(this.Ca).css({width:this.Fg+"px",height:this.Eg+"px"}),this.rm(),this.wj=this.Ca.getContext("2d"));this.A=new Va(this.k,this.fd);this.A.Le(this.canvas.width,this.canvas.height);this.A.Mk=0!==this.Lo;this.R=null;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();g.vq();H("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){g.A.el();g.A.Le(g.A.width,g.A.height,!0);g.tb=null;g.gb=null;g.yi[0]=
null;g.yi[1]=null;g.wq();g.X=!0;H("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);a=0;for(b=this.n.length;a<b;a++)for(m=this.n[a],d=0,c=m.B.length;d<c;d++)h=m.B[d],h.Ea=this.A.Ii(h.id),this.Qe=this.Qe||this.A.Xf(h.Ea);a=0;for(b=this.ec.length;a<b;a++){l=this.ec[a];d=0;for(c=l.B.length;d<c;d++)h=l.B[d],h.Ea=this.A.Ii(h.id);d=0;for(c=l.G.length;d<c;d++)for(k=l.G[d],m=0,f=k.B.length;m<f;m++)h=k.B[m],h.Ea=this.A.Ii(h.id),this.Qe=this.Qe||this.A.Xf(h.Ea)}}else{if(0<this.ab&&this.Oc){this.canvas=
null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.R=AppMobi.canvas.getContext("2d");try{this.R.samplingMode=this.Q?"smooth":"sharp",this.R.globalScale=1,this.R.HTML5CompatibilityMode=!0,this.R.imageSmoothingEnabled=this.Q}catch(q){}0!==this.width&&0!==this.height&&(this.R.width=this.width,this.R.height=this.height)}this.R||(a=this.Hb?{antialias:!!this.Q,alpha:b}:{alpha:b},this.R=this.canvas.getContext("2d",a),this.R.webkitImageSmoothingEnabled=this.Q,
this.R.mozImageSmoothingEnabled=this.Q,this.R.msImageSmoothingEnabled=this.Q,this.R.imageSmoothingEnabled=this.Q);this.wj=this.Ca=null}this.Oh=function(){g.Sc(!1)};window==window.top||this.da||this.ol||this.Xg||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Hb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&
(H("Reloading for continuous preview"),this.hh="__c2_continuouspreview",this.gg=!0),this.Bq&&!this.fd&&(jQuery(window).focus(function(){g.setSuspended(!1)}),jQuery(window).blur(function(){g.setSuspended(!0)})));this.da||(a=function(g){Ua(g)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur&&document.activeElement.blur()},window.navigator.pointerEnabled?document.addEventListener("pointerdown",a):window.navigator.msPointerEnabled?
document.addEventListener("MSPointerDown",a):document.addEventListener("touchstart",a),document.addEventListener("mousedown",a));0===this.ab&&this.Md&&1<this.devicePixelRatio&&this.setSize(this.ya,this.xa,!0);this.$m();this.Sp();this.go();this.U={}};c.prototype.setSize=function(g,a,b){var d=0,c=0,m=0,f=0,f=0,h=this.mq&&this.iq&&!navigator.standalone&&!this.da&&!this.ac;h&&(a+=60);if(this.Ef!==g||this.Df!==a||b){this.Ef=g;this.Df=a;var l=this.ab,k=(document.mozFullScreen||document.webkitIsFullScreen||
!!document.msFullscreenElement||document.fullScreen||this.xf)&&!this.ac;if(k||0!==this.ab||b)k&&0<this.Hd&&(l=this.Hd),b=this.devicePixelRatio,4<=l?(m=this.ya/this.xa,g/a>m?(m*=a,5===l?(f=m*b/this.ya,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),m=this.ya*f/b,f=this.xa*f/b,d=(g-m)/2,c=(a-f)/2,g=m,a=f):(d=(g-m)/2,g=m)):(f=g/m,5===l?(f=f*b/this.xa,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),m=this.ya*f/b,f=this.xa*f/b,d=(g-m)/2,c=(a-f)/2,g=m):c=(a-f)/2,a=f),k&&!this.gd&&(c=d=0)):this.gd&&this.xf&&
0===this.Tk&&(d=Math.floor((g-this.ya)/2),c=Math.floor((a-this.xa)/2),g=this.ya,a=this.xa),2>l&&(this.We=b),this.Md&&this.sl&&1<b&&(1024<=g&&(g=1023),1024<=a&&(a=1023)),this.Fg=Math.round(g),this.Eg=Math.round(a),this.width=Math.round(g*b),this.height=Math.round(a*b),this.X=!0,this.pn?(this.I=this.width,this.H=this.height,this.Eb=!0):this.width<this.ya&&this.height<this.xa||1===l?(this.I=this.width,this.H=this.height,this.Eb=!0):(this.I=this.ya,this.H=this.xa,this.Eb=!1,2===l?(m=this.ya/this.xa,l=
this.Ef/this.Df,l<m?this.I=this.H*l:l>m&&(this.H=this.I/l)):3===l&&(m=this.ya/this.xa,l=this.Ef/this.Df,l>m?this.I=this.H*l:l<m&&(this.H=this.I/l))),this.Dk&&!this.da&&(jQuery(this.Dk).css({width:Math.round(g)+"px",height:Math.round(a)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(c)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(g)+"px",height:Math.round(a)+"px"})),this.canvas&&(this.canvas.width=Math.round(g*b),this.canvas.height=Math.round(a*
b),this.$b?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(c)+"px",this.canvas.style.width=Math.round(g)+"px",this.canvas.style.height=Math.round(a)+"px"):this.Md&&!this.da&&jQuery(this.canvas).css({width:Math.round(g)+"px",height:Math.round(a)+"px"})),this.Ca&&(this.Ca.width=Math.round(g),this.Ca.height=Math.round(a),jQuery(this.Ca).css({width:Math.round(g)+"px",height:Math.round(a)+"px"})),this.A&&this.A.Le(Math.round(g*b),Math.round(a*b)),this.Oc&&this.R&&(this.R.width=
Math.round(g),this.R.height=Math.round(a)),this.R&&(this.R.webkitImageSmoothingEnabled=this.Q,this.R.mozImageSmoothingEnabled=this.Q,this.R.msImageSmoothingEnabled=this.Q,this.R.imageSmoothingEnabled=this.Q),this.$m(),this.da||!h&&!this.Yi||window.setTimeout(function(){window.scrollTo(0,1)},100)}};c.prototype.$m=function(){if(this.ko&&0!==this.vj){var g="portrait";2===this.vj&&(g="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(g):screen.lockOrientation?screen.lockOrientation(g):
screen.webkitLockOrientation?screen.webkitLockOrientation(g):screen.mozLockOrientation?screen.mozLockOrientation(g):screen.msLockOrientation&&screen.msLockOrientation(g)}};c.prototype.vq=function(){this.A.ro();this.Xi=!0;var g,a,b;g=0;for(a=this.n.length;g<a;g++)b=this.n[g],b.fm&&b.fm()};c.prototype.wq=function(){this.Xi=!1;var g,a,b;g=0;for(a=this.n.length;g<a;g++)b=this.n[g],b.im&&b.im()};c.prototype.rm=function(){if(!this.da){var g=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||
document.msFullscreenElement||this.xf)&&!this.ac?jQuery(this.canvas).offset():jQuery(this.canvas).position();g.position="absolute";jQuery(this.Ca).css(g)}};var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;c.prototype.setSuspended=function(g){var a;if(g&&!this.yf)for(H("[Construct 2] Suspending"),this.yf=!0,-1!==this.xh&&t&&t(this.xh),-1!==this.Ph&&clearTimeout(this.Ph),g=0,a=this.Ih.length;g<
a;g++)this.Ih[g](!0);else if(!g&&this.yf){H("[Construct 2] Resuming");this.yf=!1;this.dh=S();this.Ff=S();g=this.Mf=this.Pg=0;for(a=this.Ih.length;g<a;g++)this.Ih[g](!1);this.Sc(!1)}};c.prototype.Xc=function(g){return this.qh[g]};c.prototype.gj=function(g){g&&g.project||ba("Project model unavailable");g=g.project;this.name=g[0];this.Sk=g[1];this.ab=g[12];this.Tk=g[12];this.ya=g[10];this.xa=g[11];this.mm=this.ya/2;this.nm=this.xa/2;this.da&&!this.$b&&(4<=g[12]||0===g[12])&&(H("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.Tk=this.ab=3);this.$j=g[18];this.Gf=g[19];0===this.Gf&&(this.Ae=new Image,this.Ae.src="loading-logo.png");this.Pf=g[21];this.qh=Qb();this.wc=new X(this);var a,b,d,c,f,m,l,h,k;a=0;for(b=g[2].length;a<b;a++)l=g[2][a],d=this.Xc(l[0]),Wa(l,d.prototype),k=new d(this),k.Dh=l[1],k.hd=l[2],k.Yl=l[9],k.ea&&k.ea(),this.plugins.push(k);this.qh=Qb();a=0;for(b=g[3].length;a<b;a++){l=g[3][a];f=this.Xc(l[1]);k=null;d=0;for(c=this.plugins.length;d<c;d++)if(this.plugins[d]instanceof f){k=this.plugins[d];break}var p=
new k.lb(k);p.name=l[0];p.K=l[2];p.Ri=l[3].slice(0);p.hr=l[3].length;p.lo=l[4];p.qp=l[5];p.J=l[11];p.K?(p.oh=[],p.Kc=this.jf++,p.Z=null):(p.oh=null,p.Kc=-1,p.Z=[]);p.Lg=null;p.oe=null;p.Ok=null;p.cc=!1;p.$a=null;l[6]?(p.Um=l[6][0],p.Vm=l[6][1],p.Yq=l[6][2]):(p.Um=null,p.Vm=0,p.Yq=0);p.Za=l[7]?l[7]:null;p.index=a;p.d=[];p.Ig=[];p.sd=[new Xa(p)];p.Hc=0;p.pc=null;p.yo=0;p.Oe=!0;p.Th=Ya;p.Xk=Za;p.Ap=$a;p.W=ab;p.Yf=bb;p.Bj=cb;p.Je=db;p.Qg=eb;p.Bi=fb;p.Fi=gb;p.Bc=hb;p.Yk=ib;p.Dg=new Oa(this.ya,this.xa);
p.sg=!0;p.tg=!1;p.U={};p.toString=jb;p.ja=[];d=0;for(c=l[8].length;d<c;d++){h=l[8][d];var q=this.Xc(h[1]),n=null;f=0;for(m=this.ja.length;f<m;f++)if(this.ja[f]instanceof q){n=this.ja[f];break}n||(n=new q(this),n.ph=[],n.nj=new F,n.ea&&n.ea(),this.ja.push(n),Rb&&n instanceof Rb&&(this.Rm=n),Ib.oq&&n instanceof Ib.oq&&(this.tl=n));-1===n.ph.indexOf(p)&&n.ph.push(p);f=new n.lb(n,p);f.name=h[0];f.J=h[2];f.ea();p.ja.push(f)}p.global=l[9];p.Ui=l[10];p.B=[];d=0;for(c=l[12].length;d<c;d++)p.B.push({id:l[12][d][0],
name:l[12][d][1],Ea:-1,mb:!0,index:d});p.Ps=l[13];this.$j&&!p.K&&!p.Ui&&k.hd||p.ea();p.name&&(this.types[p.name]=p);this.n.push(p);k.Dh&&(d=new k.Oa(p),d.uid=this.Pf++,d.xm=this.Zl++,d.Jd=0,d.qf=kb,d.toString=lb,d.na=l[14],d.ea(),p.d.push(d),this.kd[d.uid.toString()]=d)}a=0;for(b=g[4].length;a<b;a++)for(f=g[4][a],m=this.n[f[0]],d=1,c=f.length;d<c;d++)l=this.n[f[d]],l.Z.push(m),m.oh.push(l);a=0;for(b=g[27].length;a<b;a++){f=g[27][a];m=[];d=0;for(c=f.length;d<c;d++)m.push(this.n[f[d]]);d=0;for(c=m.length;d<
c;d++)m[d].cc=!0,m[d].$a=m}if(0<this.jf)for(a=0,b=this.n.length;a<b;a++)if(l=this.n[a],!l.K&&l.Z.length){l.Lg=Array(this.jf);l.oe=Array(this.jf);l.Ok=Array(this.jf);p=[];d=n=q=h=0;for(c=l.Z.length;d<c;d++)for(k=l.Z[d],l.Lg[k.Kc]=h,h+=k.hr,l.oe[k.Kc]=q,q+=k.lo,l.Ok[k.Kc]=n,n+=k.qp,f=0,m=k.B.length;f<m;f++)p.push(oa({},k.B[f]));l.B=p.concat(l.B);d=0;for(c=l.B.length;d<c;d++)l.B[d].index=d}a=0;for(b=g[5].length;a<b;a++)l=g[5][a],d=new mb(this,l),this.cj[d.name]=d,this.ec.push(d);a=0;for(b=g[6].length;a<
b;a++)l=g[6][a],d=new nb(this,l),this.qi[d.name]=d,this.Jc.push(d);a=0;for(b=this.Jc.length;a<b;a++)this.Jc[a].fa();a=0;for(b=this.Jc.length;a<b;a++)this.Jc[a].kn();a=0;for(b=this.Sh.length;a<b;a++)this.Sh[a].fa();this.Sh.length=0;this.jo=g[7];this.Ie=g[9];this.We=1;this.No=g[13];this.Q=g[14];this.Yh=g[15];this.fr=g[17];this.vj=g[20];this.ko=0<this.vj;this.Bq=g[22];this.Eb=this.pn=g[23];this.Lo=g[24];this.Fq=g[25];this.Fh=Date.now();this.qh.length=0;this.$p()};var f=!1;c.prototype.ir=function(g,a){g.cocoonLazyLoad=
!0;g.onerror=function(a){f=g.zk=!0;console&&console.error&&console.error("Error loading image '"+g.src+"': ",a)};this.$b?g.src=a:g.src||("undefined"!==typeof XAPKReader?XAPKReader.get(a,function(a){g.src=a},function(b){f=g.zk=!0;console&&console.error&&console.error("Error extracting image '"+a+"' from expansion file: ",b)}):g.src=a);this.Te.push(g)};c.prototype.op=function(g){var a,b;a=0;for(b=this.Te.length;a<b;a++)if(this.Te[a].uo===g)return this.Te[a];return null};var h=0,q=!1;c.prototype.Sp=
function(){this.Xe&&(h=this.Xe.Ms(this.jo))};c.prototype.wk=function(){var g=h,a=0,b=0,d=!0,c,f,b=0;for(c=this.Te.length;b<c;b++){f=this.Te[b];var m=f.to;if(!m||0>=m)m=5E4;g+=m;f.src&&(f.complete||f.loaded)&&!f.zk?a+=m:d=!1}d&&this.Fq&&this.Xe&&(q||(this.Xe.Ns(),q=!0),b=this.Xe.Gs(),a+=b,b<h&&(d=!1));this.Vd=0==g?0:a/g;return d};c.prototype.go=function(){if(this.R||this.A){var g=this.R||this.wj;this.Ca&&this.rm();this.Vd=0;this.zl=-1;if(this.wk())this.Tp();else{var a=Date.now()-this.Fh;if(g){var b=
this.width,d=this.height,c=this.devicePixelRatio;this.Ca&&(b=this.Fg,d=this.Eg,c=1);if(3!==this.Gf&&(this.Hb||500<=a&&this.zl!=this.Vd)){g.clearRect(0,0,b,d);var a=b/2,d=d/2,b=0===this.Gf&&this.Ae.complete,m=40*c,l=0,h=80*c,p;b&&(h=this.Ae.width*c,p=this.Ae.height*c,m=h/2,l=p/2,g.drawImage(this.Ae,N(a-m),N(d-l),h,p));1>=this.Gf?(a=N(a-m)+.5,d=N(d+(l+(b?12*c:0)))+.5,g.fillStyle=f?"red":"DodgerBlue",g.fillRect(a,d,Math.floor(h*this.Vd),6*c),g.strokeStyle="black",g.strokeRect(a,d,h,6*c),g.strokeStyle=
"white",g.strokeRect(a-1*c,d-1*c,h+2*c,8*c)):2===this.Gf&&(g.font=this.$b?"12pt ArialMT":"12pt Arial",g.fillStyle=f?"#f00":"#999",g.Os="middle",c=Math.round(100*this.Vd)+"%",b=g.measureText?g.measureText(c):null,g.fillText(c,a-(b?b.width:0)/2,d))}this.zl=this.Vd}setTimeout(function(g){return function(){g.go()}}(this),this.Hb?10:100)}}};c.prototype.Tp=function(){this.Ca&&(this.canvas.parentNode.removeChild(this.Ca),this.Ca=this.wj=null);this.Fh=Date.now();this.Ff=S();var g,a,b;if(this.$j)for(g=0,a=
this.n.length;g<a;g++)b=this.n[g],b.K||b.Ui||!b.Da.hd||b.ea();else this.ah=!1;g=0;for(a=this.ec.length;g<a;g++)this.ec[g].vo();2<=this.ab&&(g=this.ya/this.xa,a=this.width/this.height,this.We=2!==this.ab&&a>g||2===this.ab&&a<g?this.height/this.xa:this.width/this.ya);this.Sk?this.cj[this.Sk].Qj():this.ec[0].Qj();this.$j||(this.jh=1,this.trigger(X.prototype.j.gk,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();g=0;for(a=this.n.length;g<a;g++)b=this.n[g],b.uq&&
b.uq();this.Sc(!1);this.Oc&&AppMobi.webview.execute("onGameReady();")};var u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;c.prototype.Sc=function(g){if(this.Y){var a=S();if(this.Vp&&this.Ej&&29>a-this.aj)this.Ej=!1,this.aj=a,u?this.xh=u(this.Oh,this.canvas):this.Ph=setTimeout(this.Oh,this.fd?1:16);else{this.Ej=!0;this.aj=a;var b=this.ab,d=(document.mozFullScreen||document.webkitIsFullScreen||
document.fullScreen||!!document.msFullscreenElement)&&!this.ac;(d||this.xf)&&0<this.Hd&&(b=this.Hd);0<b&&(!this.rl||window.self!==window.top)&&(b=window.innerHeight,this.Ef===window.innerWidth&&this.Df===b||this.setSize(e(),n()));this.da||(d?(this.Mg||(this.xi=jQuery(this.canvas).css("margin")||"0",this.Mg=!0),this.Vg||this.gd||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/
2)+"px"})):this.Mg?(this.Vg||this.gd||jQuery(this.canvas).css("margin",this.xi),this.xi="",this.Mg=!1,0===this.ab&&this.setSize(Math.round(this.em/this.devicePixelRatio),Math.round(this.dm/this.devicePixelRatio),!0)):(this.em=this.width,this.dm=this.height));this.ah&&(d=this.wk(),this.jh=this.Vd,d&&(this.ah=!1,this.Vd=1,this.trigger(X.prototype.j.gk,null)));this.rq();!this.X&&!this.Hb||this.Xi||this.gg||g||(this.X=!1,this.A?this.qc():this.Ed(),this.Eh&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.Eh[0],
this.Eh[1]),this.trigger(X.prototype.j.Gn,null)),this.Eh=null));this.Hs||(this.ig++,this.ri++,this.Pg++);this.Mf+=S()-a;this.yf||g||(u?this.xh=u(this.Oh,this.canvas):this.Ph=setTimeout(this.Oh,this.fd?1:16))}}};c.prototype.rq=function(){var g,a,b,d,c,f,m,l,h;g=S();1E3<=g-this.Ff&&(this.Ff+=1E3,this.wi=this.Pg,this.Pg=0,this.hi=this.Mf,this.Mf=0);this.Vl&&(0!==this.dh&&(a=g-this.dh,0!==a||this.fq?(this.Ic=a/1E3,.5<this.Ic?this.Ic=0:.1<this.Ic&&(this.Ic=.1)):(10<=this.Qs&&(this.Vl=!1),this.Ic=1/60)),
this.dh=g);this.me=this.Ic*this.kg;this.ye.add(this.me);this.Vh.add(this.Ic);g=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.xf)&&!this.ac;2<=this.ab||g&&0<this.Hd?(a=this.ya/this.xa,b=this.width/this.height,d=this.ab,g&&0<this.Hd&&(d=this.Hd),this.We=2!==d&&b>a||2===d&&b<a?this.height/this.xa:this.width/this.ya,this.Y&&(this.Y.Gm(this.Y.scrollX),this.Y.Hm(this.Y.scrollY))):this.We=this.Md?this.devicePixelRatio:1;this.Ja();this.Pc++;
this.wc.Mq();this.Pc--;this.Ja();this.Pc++;b=this.cm.xd();g=0;for(a=b.length;g<a;g++)b[g].Is();g=0;for(a=this.n.length;g<a;g++)if(m=this.n[g],!m.K&&(m.ja.length||m.Z.length))for(b=0,d=m.d.length;b<d;b++)for(l=m.d[b],c=0,f=l.F.length;c<f;c++)l.F[c].Sc();g=0;for(a=this.n.length;g<a;g++)if(m=this.n[g],!m.K&&(m.ja.length||m.Z.length))for(b=0,d=m.d.length;b<d;b++)for(l=m.d[b],c=0,f=l.F.length;c<f;c++)h=l.F[c],h.tm&&h.tm();b=this.oj.xd();g=0;for(a=b.length;g<a;g++)b[g].Sc();this.Pc--;this.Wp();for(g=0;this.fi&&
10>g++;)this.Lk(this.fi);g=0;for(a=this.Jc.length;g<a;g++)this.Jc[g].Li=!1;this.Y.gf&&this.Y.gf.ra();this.Am.length=0;this.Pc++;g=0;for(a=this.n.length;g<a;g++)if(m=this.n[g],!m.K&&(m.ja.length||m.Z.length))for(b=0,d=m.d.length;b<d;b++)for(l=m.d[b],c=0,f=l.F.length;c<f;c++)h=l.F[c],h.Nh&&h.Nh();b=this.pj.xd();g=0;for(a=b.length;g<a;g++)b[g].Nh();this.Pc--};c.prototype.Lk=function(g){var a=this.Y;this.Y.Xq();var b,d,c,m,f,l,h;if(this.A)for(b=0,d=this.n.length;b<d;b++)f=this.n[b],f.K||!f.dn||f.global&&
0!==f.d.length||-1!==g.uf.indexOf(f)||f.dn();a==g&&(this.wc.jb.length=0);g.Qj();b=0;for(d=this.n.length;b<d;b++)if(f=this.n[b],f.global||f.Da.Dh)for(g=0,a=f.d.length;g<a;g++)if(l=f.d[g],l.tj&&l.tj(),l.F)for(c=0,m=l.F.length;c<m;c++)h=l.F[c],h.tj&&h.tj();this.X=!0;this.Ja()};c.prototype.Wm=function(g){this.oj.add(g)};c.prototype.Zq=function(g){this.pj.add(g)};c.prototype.Di=function(g){return g&&-1!==g.Of?this.Ic*g.Of:this.me};c.prototype.Ed=function(){this.Y.Ed(this.R);this.Oc&&this.R.present()};
c.prototype.qc=function(){this.Y.qc(this.A);this.A.Gq()};c.prototype.sk=function(g){g&&this.Jg.push(g)};c.prototype.Bm=function(g){ta(this.Jg,g)};c.prototype.of=function(g){g=g.toString();return this.kd.hasOwnProperty(g)?this.kd[g]:null};var l=[];c.prototype.be=function(g){var a,b;a=g.type.name;var d=null;if(this.Cd.hasOwnProperty(a)){if(d=this.Cd[a],d.contains(g))return}else d=l.length?l.pop():new F,this.Cd[a]=d;d.add(g);this.ed=!0;if(g.cc)for(a=0,b=g.siblings.length;a<b;a++)this.be(g.siblings[a]);
this.Ti&&d.Re.push(g);this.Pc++;this.trigger(Object.getPrototypeOf(g.type.Da).j.In,g);this.Pc--};c.prototype.Ja=function(){if(this.ed){var g,a,b,d,c,f;this.Ti=!0;b=0;for(c=this.Vb.length;b<c;++b)for(g=this.Vb[b],a=g.type,a.d.push(g),d=0,f=a.Z.length;d<f;++d)a.Z[d].d.push(g),a.Z[d].Oe=!0;this.Vb.length=0;this.An();Ha(this.Cd);this.ed=this.Ti=!1}};c.prototype.An=function(){for(var a in this.Cd)this.Cd.hasOwnProperty(a)&&this.tn(this.Cd[a])};c.prototype.tn=function(a){var b=a.xd(),d=b[0].type,c,f,m,
h,p,k;Ka(d.d,a);d.Oe=!0;0===d.d.length&&(d.tg=!1);c=0;for(f=d.Z.length;c<f;++c)k=d.Z[c],Ka(k.d,a),k.Oe=!0;c=0;for(f=this.wc.jb.length;c<f;++c)if(p=this.wc.jb[c],p.hb.hasOwnProperty(d.index)&&Ka(p.hb[d.index].Ld,a),!d.K)for(m=0,h=d.Z.length;m<h;++m)k=d.Z[m],p.hb.hasOwnProperty(k.index)&&Ka(p.hb[k.index].Ld,a);(c=b[0].e)&&Ka(c.d,a);for(c=0;c<b.length;++c)this.sn(b[c],d);a.clear();l.push(a);this.X=!0};c.prototype.sn=function(a,b){var d,c,f;d=0;for(c=this.Jg.length;d<c;++d)this.Jg[d](a);a.Cg&&b.Dg.update(a,
a.Cg,null);if(d=a.e)ta(d.d,a),d.kb=!0;if(a.F)for(d=0,c=a.F.length;d<c;++d)f=a.F[d],f.Rf&&f.Rf(),f.behavior.nj.remove(a);this.cm.remove(a);this.oj.remove(a);this.pj.remove(a);a.Rf&&a.Rf();this.kd.hasOwnProperty(a.uid.toString())&&delete this.kd[a.uid.toString()];this.rh--;100>b.Ig.length&&b.Ig.push(a)};var v=[];c.prototype.Bd=function(a,b,d,c,f,m){var l,h,p,k;if(!a)return null;var q=this.n[a[1]],n=q.Da.hd;if(this.ah&&n&&!q.Ui||n&&!this.A&&11===a[0][11])return null;var t=b;n||(b=null);var e;q.Ig.length?
(e=q.Ig.pop(),e.Nb=!0,q.Da.Oa.call(e,q)):(e=new q.Da.Oa(q),e.Nb=!1);e.uid=d&&!m?a[2]:this.Pf++;this.kd[e.uid.toString()]=e;e.xm=this.Zl++;e.Jd=q.d.length;l=0;for(h=this.Vb.length;l<h;++l)this.Vb[l].type===q&&e.Jd++;e.qf=kb;p=a[3];if(e.Nb)Ha(e.U);else{e.U={};if("undefined"!==typeof cr_is_preview)for(e.hl=[],e.hl.length=p.length,l=0,h=p.length;l<h;l++)e.hl[l]=p[l][1];e.ma=[];e.ma.length=p.length}l=0;for(h=p.length;l<h;l++)e.ma[l]=p[l][0];if(n){var r=a[0];e.x=ca(c)?r[0]:c;e.y=ca(f)?r[1]:f;e.z=r[2];e.width=
r[3];e.height=r[4];e.depth=r[5];e.i=r[6];e.opacity=r[7];e.eb=r[8];e.fb=r[9];e.Ua=r[10];l=r[11];!this.A&&q.B.length&&(e.Ua=l);e.bf=Qa(e.Ua);this.k&&Ra(e,e.Ua,this.k);if(e.Nb){l=0;for(h=r[12].length;l<h;l++)for(p=0,k=r[12][l].length;p<k;p++)e.ca[l][p]=r[12][l][p];e.la.set(0,0,0,0);e.Cg.set(0,0,-1,-1);e.Cb.bg(e.la);e.bi.length=0}else{e.ca=r[12].slice(0);l=0;for(h=e.ca.length;l<h;l++)e.ca[l]=r[12][l].slice(0);e.L=[];e.Yc=[];e.Yc.length=q.B.length;e.la=new ka(0,0,0,0);e.Cg=new ka(0,0,-1,-1);e.Cb=new la;
e.bi=[];e.r=ob;e.xs=pb;e.Wa=qb;e.ia=rb;e.nn=sb;e.Gb=tb}e.jg=!1;e.cr=0;e.br=0;e.$q=null;14===r.length&&(e.jg=!0,e.cr=r[13][0],e.br=r[13][1],e.$q=r[13][2]);l=0;for(h=q.B.length;l<h;l++)e.Yc[l]=!0;e.Vc=ub;e.Vc();e.on=!!e.L.length;e.ai=!0;e.di=!0;q.sg=!0;e.visible=!0;e.Of=-1;e.e=b;e.ae=b.d.length;"undefined"===typeof e.M&&(e.M=null);this.X=e.Dc=!0}e.toString=lb;var x;l=v.length=0;for(h=q.Z.length;l<h;l++)v.push.apply(v,q.Z[l].ja);v.push.apply(v,q.ja);if(e.Nb)for(l=0,h=v.length;l<h;l++){var u=v[l];x=e.F[l];
x.Nb=!0;u.behavior.Oa.call(x,u,e);r=a[4][l];p=0;for(k=r.length;p<k;p++)x.na[p]=r[p];x.ea();u.behavior.nj.add(e)}else for(e.F=[],l=0,h=v.length;l<h;l++)u=v[l],x=new u.behavior.Oa(u,e),x.Nb=!1,x.na=a[4][l].slice(0),x.ea(),e.F.push(x),u.behavior.nj.add(e);r=a[5];if(e.Nb)for(l=0,h=r.length;l<h;l++)e.na[l]=r[l];else e.na=r.slice(0);this.Vb.push(e);this.ed=!0;b&&(b.d.push(e),1!==b.Lb||1!==b.Mb)&&(q.tg=!0);this.rh++;if(q.cc){if(e.cc=!0,e.Nb?e.siblings.length=0:e.siblings=[],!d&&!m){l=0;for(h=q.$a.length;l<
h;l++)if(q.$a[l]!==q){if(!q.$a[l].pc)return null;e.siblings.push(this.Bd(q.$a[l].pc,t,!1,n?e.x:c,n?e.y:f,!0))}l=0;for(h=e.siblings.length;l<h;l++)for(e.siblings[l].siblings.push(e),p=0;p<h;p++)l!==p&&e.siblings[l].siblings.push(e.siblings[p])}}else e.cc=!1,e.siblings=null;e.ea();l=0;for(h=e.F.length;l<h;l++)e.F[l].Eq&&e.F[l].Eq();return e};c.prototype.Hi=function(a){var b,d;b=0;for(d=this.Y.G.length;b<d;b++){var c=this.Y.G[b];if(Ta(c.name,a))return c}return null};c.prototype.nf=function(a){a=N(a);
0>a&&(a=0);a>=this.Y.G.length&&(a=this.Y.G.length-1);return this.Y.G[a]};c.prototype.gi=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].W().aa=!0};c.prototype.Yf=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].Yf()};c.prototype.Bj=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].Bj()};c.prototype.Je=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].Je()};c.prototype.hn=function(a){if(a.sg){var b,d,c=a.d;b=0;for(d=c.length;b<d;++b)c[b].nn();c=this.Vb;b=0;for(d=c.length;b<d;++b)c[b].type===
a&&c[b].nn();a.sg=!1}};c.prototype.tp=function(a,b,d,c){var f,m,l=a?1!==a.Lb||1!==a.Mb:!1;if(b.K)for(a=0,f=b.oh.length;a<f;++a)m=b.oh[a],l||m.tg?ra(c,m.d):(this.hn(m),m.Dg.ym(d,c));else l||b.tg?ra(c,b.d):(this.hn(b),b.Dg.ym(d,c))};c.prototype.al=function(a,b,d,c){var f,m;f=0;for(m=b.length;f<m;++f)this.tp(a,b[f],d,c)};c.prototype.Ep=function(a,b,d){var c=this.Rm;c&&this.al(a,c.ph,b,d)};c.prototype.yp=function(a,b,d){var c=this.tl;c&&this.al(a,c.ph,b,d)};c.prototype.Kh=function(a,b,d){var c=a.W(),
f,m,l,h,p,k;if(c.aa)for(c.aa=!1,f=c.d.length=0,h=a.d.length;f<h;f++)l=a.d[f],l.ia(),p=l.e.Pa(b,d,!0),k=l.e.Pa(b,d,!1),l.Wa(p,k)&&c.d.push(l);else{f=m=0;for(h=c.d.length;f<h;f++)l=c.d[f],l.ia(),p=l.e.Pa(b,d,!0),k=l.e.Pa(b,d,!1),l.Wa(p,k)&&(c.d[m]=c.d[f],m++);c.d.length=m}a.Bc();return c.Ki()};c.prototype.lc=function(a,b){if(!(a&&b&&a!==b&&a.Dc&&b.Dc))return!1;a.ia();b.ia();var d=a.e,c=b.e,f,m,l,h,p,k,e,q;if(d===c||d.Lb===c.Lb&&c.Mb===c.Mb&&d.scale===c.scale&&d.i===c.i&&d.nc===c.nc){if(!a.la.bq(b.la)||
!a.Cb.il(b.Cb)||a.jg&&b.jg)return!1;if(a.jg)return this.Tm(a,b);if(b.jg)return this.Tm(b,a);e=a.M&&!a.M.ue();f=b.M&&!b.M.ue();if(!e&&!f)return!0;e?(a.M.je(a.width,a.height,a.i),e=a.M):(this.kc.Me(a.Cb,a.x,a.y,a.width,a.height),e=this.kc);f?(b.M.je(b.width,b.height,b.i),q=b.M):(this.kc.Me(b.Cb,b.x,b.y,b.width,b.height),q=this.kc);return e.vf(q,b.x-a.x,b.y-a.y)}e=a.M&&!a.M.ue();f=b.M&&!b.M.ue();e?(a.M.je(a.width,a.height,a.i),this.kc.Km(a.M)):this.kc.Me(a.Cb,a.x,a.y,a.width,a.height);e=this.kc;f?(b.M.je(b.width,
b.height,b.i),this.Sj.Km(b.M)):this.Sj.Me(b.Cb,b.x,b.y,b.width,b.height);q=this.Sj;f=0;for(m=e.gc;f<m;f++)l=2*f,h=l+1,p=e.oa[l],k=e.oa[h],e.oa[l]=d.Qa(p+a.x,k+a.y,!0),e.oa[h]=d.Qa(p+a.x,k+a.y,!1);e.ia();f=0;for(m=q.gc;f<m;f++)l=2*f,h=l+1,p=q.oa[l],k=q.oa[h],q.oa[l]=c.Qa(p+b.x,k+b.y,!0),q.oa[h]=c.Qa(p+b.x,k+b.y,!1);q.ia();return e.vf(q,0,0)};var w=new la;new ka(0,0,0,0);var m=[];c.prototype.Tm=function(a,b){var d,c,f,l,h=b.la,p=a.x,k=a.y;a.Bs(h,m);var e=b.M&&!b.M.ue();d=0;for(c=m.length;d<c;++d)if(f=
m[d],l=f.Js,h.cq(l,p,k)&&(w.bg(l),w.offset(p,k),w.il(b.Cb)))if(e)if(b.M.je(b.width,b.height,b.i),f.zj){if(f.zj.vf(b.M,b.x-(p+l.left),b.y-(k+l.top)))return m.length=0,!0}else{if(this.kc.Me(w,0,0,l.right-l.left,l.bottom-l.top),this.kc.vf(b.M,b.x,b.y))return m.length=0,!0}else if(f.zj){if(this.kc.Me(b.Cb,0,0,b.width,b.height),f.zj.vf(this.kc,-(p+l.left),-(k+l.top)))return m.length=0,!0}else return m.length=0,!0;m.length=0;return!1};c.prototype.an=function(a,b){if(!b)return!1;var d,c,f,m,l;d=0;for(c=
a.ja.length;d<c;d++)if(a.ja[d].behavior instanceof b)return!0;if(!a.K)for(d=0,c=a.Z.length;d<c;d++)for(l=a.Z[d],f=0,m=l.ja.length;f<m;f++)if(l.ja[f].behavior instanceof b)return!0;return!1};c.prototype.bn=function(a){return this.an(a,Ib.Or)};c.prototype.Xj=function(a){return this.an(a,Ib.Pr)};var p=[];c.prototype.ib=function(a){var b,d,c;a.ia();this.Ep(a.e,a.la,p);b=0;for(d=p.length;b<d;++b)if(c=p[b],c.U.solidEnabled&&this.lc(a,c))return p.length=0,c;p.length=0;return null};var x=[];c.prototype.td=
function(a,b){var d=null;b&&(d=x,d.length=0);a.ia();this.yp(a.e,a.la,p);var c,f,m;c=0;for(f=p.length;c<f;++c)if(m=p[c],m.U.jumpthruEnabled&&this.lc(a,m))if(b)d.push(m);else return p.length=0,m;p.length=0;return d};c.prototype.ic=function(a,b,d,c,f,m){c=c||50;var l=a.x,h=a.y,p,k=null,e=null;for(p=0;p<c;p++)if(a.x=l+b*p,a.y=h+d*p,a.r(),!this.lc(a,k)&&((k=this.ib(a))&&(e=k),!k&&(f&&(k=m?this.lc(a,m)?m:null:this.td(a))&&(e=k),!k)))return e&&this.Dj(a,b,d,e),!0;a.x=l;a.y=h;a.r();return!1};c.prototype.Dj=
function(a,b,d,c){var f=2,m,l=!1;m=!1;for(var h=a.x,p=a.y;16>=f;)m=1/f,f*=2,a.x+=b*m*(l?1:-1),a.y+=d*m*(l?1:-1),a.r(),this.lc(a,c)?m=l=!0:(m=l=!1,h=a.x,p=a.y);m&&(a.x=h,a.y=p,a.r())};c.prototype.Jq=function(a,b){var d=ca(b)?100:b,c=0,f=a.x,m=a.y,l=0,h=0,p=0,k=this.ib(a);if(!k)return!0;for(;c<=d;){switch(l){case 0:h=0;p=-1;c++;break;case 1:h=1;p=-1;break;case 2:h=1;p=0;break;case 3:p=h=1;break;case 4:h=0;p=1;break;case 5:h=-1;p=1;break;case 6:h=-1;p=0;break;case 7:p=h=-1}l=(l+1)%8;a.x=N(f+h*c);a.y=
N(m+p*c);a.r();if(!this.lc(a,k)&&(k=this.ib(a),!k))return!0}a.x=f;a.y=m;a.r();return!1};c.prototype.Zf=function(a,b){a.Dc&&b.Dc&&this.Am.push([a,b])};var z=-1;c.prototype.trigger=function(a,b,d){if(!this.Y)return!1;var c=this.Y.gf;if(!c)return!1;var f=!1,m,l,h;z++;var p=c.mi;l=0;for(h=p.length;l<h;++l)m=this.Ym(a,b,p[l],d),f=f||m;m=this.Ym(a,b,c,d);z--;return f||m};c.prototype.Ym=function(a,b,d,c){var f=!1,m,l,h,p;if(b)for(h=this.Vj(a,b,b.type.name,d,c),f=f||h,p=b.type.Z,m=0,l=p.length;m<l;++m)h=
this.Vj(a,b,p[m].name,d,c),f=f||h;else h=this.Vj(a,b,"system",d,c),f=f||h;return f};c.prototype.Vj=function(a,b,d,c,f){var m,l=!1,h=!1,h="undefined"!==typeof f,p=(h?c.Qk:c.Zm)[d];if(!p)return l;var k=null;c=0;for(m=p.length;c<m;++c)if(p[c].method==a){k=p[c].hf;break}if(!k)return l;a=h?k[f]:k;if(!a)return null;c=0;for(m=a.length;c<m;c++)f=a[c][0],h=a[c][1],h=this.mp(b,d,f,h),l=l||h;return l};c.prototype.mp=function(a,b,d,c){var f,m,l=!1;this.Wj++;var h=this.bb().Wb;h&&this.Yf(h.qd);var p=1<this.Wj;
this.Yf(d.qd);p&&this.Iq();var k=this.Cj(d);k.Wb=d;a&&(f=this.types[b].W(),f.aa=!1,f.d.length=1,f.d[0]=a,this.types[b].Bc());a=!0;if(d.parent){b=k.Sm;for(f=d.parent;f;)b.push(f),f=f.parent;b.reverse();f=0;for(m=b.length;f<m;f++)if(!b[f].Oq()){a=!1;break}}a&&(this.ri++,d.tc?d.Nq(c):d.ra(),l=l||k.Rd);this.qm();p&&this.Dq();this.Je(d.qd);h&&this.Je(h.qd);this.ed&&0===this.Pc&&0===z&&!this.Vi&&this.Ja();this.Wj--;return l};c.prototype.up=function(){var a=this.bb();return a.Wb.Ka[a.Va]};c.prototype.Iq=
function(){this.lh++;this.lh>=this.kj.length&&this.kj.push([])};c.prototype.Dq=function(){this.lh--};c.prototype.Vk=function(){return this.kj[this.lh]};c.prototype.Cj=function(a){this.Kg++;this.Kg>=this.pi.length&&this.pi.push(new vb);var b=this.bb();b.reset(a);return b};c.prototype.qm=function(){this.Kg--};c.prototype.bb=function(){return this.pi[this.Kg]};c.prototype.Wk=function(a,b){for(var d,c,f,m,l,h;b;){d=0;for(c=b.Qb.length;d<c;d++)if(h=b.Qb[d],h instanceof wb&&Ta(a,h.name))return h;b=b.parent}d=
0;for(c=this.Jc.length;d<c;d++)for(l=this.Jc[d],f=0,m=l.dd.length;f<m;f++)if(h=l.dd[f],h instanceof wb&&Ta(a,h.name))return h;return null};c.prototype.Zk=function(a){var b,d;b=0;for(d=this.ec.length;b<d;b++)if(this.ec[b].J===a)return this.ec[b];return null};c.prototype.Sg=function(a){var b,d;b=0;for(d=this.n.length;b<d;b++)if(this.n[b].J===a)return this.n[b];return null};c.prototype.vp=function(a){var b,d;b=0;for(d=this.ie.length;b<d;b++)if(this.ie[b].J===a)return this.ie[b];return null};c.prototype.Wp=
function(){var g=this,d=this.Oj,c=this.Qc,f=this.hh,m=!1;this.Pm&&(m=!0,d="__c2_continuouspreview",this.Pm=!1);if(d.length){this.Ja();c=this.Sq();if(window.indexedDB&&!this.Hb)r(d,c,function(){H("Saved state to IndexedDB storage ("+c.length+" bytes)");g.Qc=c;g.trigger(X.prototype.j.Xh,null);g.Qc="";m&&b()},function(a){try{localStorage.setItem("__c2save_"+d,c),H("Saved state to WebStorage ("+c.length+" bytes)"),g.Qc=c,g.trigger(X.prototype.j.Xh,null),g.Qc="",m&&b()}catch(f){H("Failed to save game state: "+
a+"; "+f)}});else try{localStorage.setItem("__c2save_"+d,c),H("Saved state to WebStorage ("+c.length+" bytes)"),g.Qc=c,this.trigger(X.prototype.j.Xh,null),g.Qc="",m&&b()}catch(l){H("Error saving to WebStorage: "+l)}this.Ra=this.hh=this.Oj=""}f.length&&(window.indexedDB&&!this.Hb?a(f,function(a){a?(g.Ra=a,H("Loaded state from IndexedDB storage ("+g.Ra.length+" bytes)")):(g.Ra=localStorage.getItem("__c2save_"+f)||"",H("Loaded state from WebStorage ("+g.Ra.length+" bytes)"));g.gg=!1;g.Ra.length||g.trigger(X.prototype.j.Wh,
null)},function(){g.Ra=localStorage.getItem("__c2save_"+f)||"";H("Loaded state from WebStorage ("+g.Ra.length+" bytes)");g.gg=!1;g.Ra.length||g.trigger(X.prototype.j.Wh,null)}):(this.Ra=localStorage.getItem("__c2save_"+f)||"",H("Loaded state from WebStorage ("+this.Ra.length+" bytes)"),this.gg=!1,g.Ra.length||g.trigger(X.prototype.j.Wh,null)),this.Oj=this.hh="");this.Ra.length&&(this.Ja(),this.pq(this.Ra),this.Qc=this.Ra,this.trigger(X.prototype.j.Tn,null),this.Ra=this.Qc="")};c.prototype.Sq=function(){var a,
b,c,f,m,l,h,p={c2save:!0,version:1,rt:{time:this.ye.Na,walltime:this.Vh.Na,timescale:this.kg,tickcount:this.ig,execcount:this.ri,next_uid:this.Pf,running_layout:this.Y.J,start_time_offset:Date.now()-this.Fh},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.n.length;a<b;a++)if(m=this.n[a],!m.K&&!this.bn(m)){l={instances:[]};Ga(m.U)&&(l.ex=d(m.U));c=0;for(f=m.d.length;c<f;c++)l.instances.push(this.Nj(m.d[c]));p.types[m.J.toString()]=l}a=0;for(b=this.ec.length;a<b;a++)c=
this.ec[a],p.layouts[c.J.toString()]=c.ub();f=p.events.groups;a=0;for(b=this.ie.length;a<b;a++)c=this.ie[a],f[c.J.toString()]=this.Ug[c.rf].Tg;b=p.events.cnds;for(h in this.ke)this.ke.hasOwnProperty(h)&&(a=this.ke[h],Ga(a.U)&&(b[h]={ex:d(a.U)}));b=p.events.acts;for(h in this.he)this.he.hasOwnProperty(h)&&(a=this.he[h],Ga(a.U)&&(b[h]={ex:a.U}));b=p.events.vars;for(h in this.Se)this.Se.hasOwnProperty(h)&&(a=this.Se[h],a.Yg||a.parent&&!a.zf||(b[h]=a.data));p.system=this.wc.ub();return JSON.stringify(p)};
c.prototype.zm=function(){var a,b,d,c,f,m;this.kd={};a=0;for(b=this.n.length;a<b;a++)if(d=this.n[a],!d.K)for(c=0,f=d.d.length;c<f;c++)m=d.d[c],this.kd[m.uid.toString()]=m};c.prototype.pq=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var b=a.rt;this.ye.reset();this.ye.Na=b.time;this.Vh.reset();this.Vh.Na=b.walltime||0;this.kg=b.timescale;this.ig=b.tickcount;this.Fh=Date.now()-b.start_time_offset;var d=b.running_layout;if(d!==this.Y.J)if(d=this.Zk(d))this.Lk(d);else return;var c,f,m,l,h,
p,k;p=a.types;for(f in p)if(p.hasOwnProperty(f)&&(l=this.Sg(parseInt(f,10)))&&!l.K&&!this.bn(l)){p[f].ex?l.U=p[f].ex:Ha(l.U);h=l.d;m=p[f].instances;d=0;for(c=ga(h.length,m.length);d<c;d++)this.ih(h[d],m[d]);d=m.length;for(c=h.length;d<c;d++)this.be(h[d]);d=h.length;for(c=m.length;d<c;d++){h=null;if(l.Da.hd&&(h=this.Y.Rg(m[d].w.l),!h))continue;h=this.Bd(l.pc,h,!1,0,0,!0);this.ih(h,m[d])}l.Oe=!0}this.Ja();this.zm();c=a.layouts;for(f in c)c.hasOwnProperty(f)&&(d=this.Zk(parseInt(f,10)))&&d.fc(c[f]);
c=a.events.groups;for(f in c)c.hasOwnProperty(f)&&(d=this.vp(parseInt(f,10)))&&this.Ug[d.rf]&&(this.Ug[d.rf].Tg=c[f]);d=a.events.cnds;for(f in d)d.hasOwnProperty(f)&&this.ke.hasOwnProperty(f)&&(this.ke[f].U=d[f].ex);d=a.events.acts;for(f in d)d.hasOwnProperty(f)&&this.he.hasOwnProperty(f)&&(this.he[f].U=d[f].ex);d=a.events.vars;for(f in d)d.hasOwnProperty(f)&&this.Se.hasOwnProperty(f)&&(this.Se[f].data=d[f]);this.Pf=b.next_uid;this.wc.fc(a.system);d=0;for(c=this.n.length;d<c;d++)if(l=this.n[d],!l.K)for(f=
0,a=l.d.length;f<a;f++){h=l.d[f];if(l.cc)for(p=h.qf(),b=h.siblings.length=0,m=l.$a.length;b<m;b++)k=l.$a[b],l!==k&&h.siblings.push(k.d[p]);h.zc&&h.zc();if(h.F)for(b=0,m=h.F.length;b<m;b++)p=h.F[b],p.zc&&p.zc()}this.X=!0}};c.prototype.Nj=function(a,b){var c,f,m,l,h;l=a.type;m=l.Da;var p={};b?p.c2=!0:p.uid=a.uid;Ga(a.U)&&(p.ex=d(a.U));if(a.ma&&a.ma.length)for(p.ivs={},c=0,f=a.ma.length;c<f;c++)p.ivs[a.type.Ri[c].toString()]=a.ma[c];if(m.hd){m={x:a.x,y:a.y,w:a.width,h:a.height,l:a.e.J,zi:a.Gb()};0!==
a.i&&(m.a=a.i);1!==a.opacity&&(m.o=a.opacity);.5!==a.eb&&(m.hX=a.eb);.5!==a.fb&&(m.hY=a.fb);0!==a.Ua&&(m.bm=a.Ua);a.visible||(m.v=a.visible);a.Dc||(m.ce=a.Dc);-1!==a.Of&&(m.mts=a.Of);if(l.B.length)for(m.fx=[],c=0,f=l.B.length;c<f;c++)h=l.B[c],m.fx.push({name:h.name,active:a.Yc[h.index],params:a.ca[h.index]});p.w=m}if(a.F&&a.F.length)for(p.behs={},c=0,f=a.F.length;c<f;c++)l=a.F[c],l.ub&&(p.behs[l.type.J.toString()]=l.ub());a.ub&&(p.data=a.ub());return p};c.prototype.xp=function(a,b){var d,c;d=0;for(c=
a.Ri.length;d<c;d++)if(a.Ri[d]===b)return d;return-1};c.prototype.sp=function(a,b){var d,c;d=0;for(c=a.F.length;d<c;d++)if(a.F[d].type.J===b)return d;return-1};c.prototype.ih=function(a,b,d){var c,f,m,l,h;h=a.type;m=h.Da;if(d){if(!b.c2)return}else a.uid=b.uid;b.ex?a.U=b.ex:Ha(a.U);if(f=b.ivs)for(c in f)f.hasOwnProperty(c)&&(d=this.xp(h,parseInt(c,10)),0>d||d>=a.ma.length||(a.ma[d]=f[c]));if(m.hd){m=b.w;a.e.J!==m.l&&(d=a.e,a.e=this.Y.Rg(m.l),a.e?(a.e.d.push(a),a.e.kb=!0,ta(d.d,a),d.kb=!0):(a.e=d,this.be(a)));
a.x=m.x;a.y=m.y;a.width=m.w;a.height=m.h;a.ae=m.zi;a.i=m.hasOwnProperty("a")?m.a:0;a.opacity=m.hasOwnProperty("o")?m.o:1;a.eb=m.hasOwnProperty("hX")?m.hX:.5;a.fb=m.hasOwnProperty("hY")?m.hY:.5;a.visible=m.hasOwnProperty("v")?m.v:!0;a.Dc=m.hasOwnProperty("ce")?m.ce:!0;a.Of=m.hasOwnProperty("mts")?m.mts:-1;a.Ua=m.hasOwnProperty("bm")?m.bm:0;a.bf=Qa(a.Ua);this.k&&Ra(a,a.Ua,this.k);a.r();if(m.hasOwnProperty("fx"))for(d=0,f=m.fx.length;d<f;d++)l=h.Fi(m.fx[d].name),0>l||(a.Yc[l]=m.fx[d].active,a.ca[l]=
m.fx[d].params);a.Vc()}if(h=b.behs)for(c in h)h.hasOwnProperty(c)&&(m=this.sp(a,parseInt(c,10)),0>m||a.F[m].fc(h[c]));b.data&&a.fc(b.data)};xb=function(a){return new c(document.getElementById(a))};yb=function(a,b){return new c({dc:!0,width:a,height:b})};window.cr_createRuntime=xb;window.cr_createDCRuntime=yb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Ls=!0;document.body.appendChild(a);a=new c(a);window.c2runtime=
a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new c(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();
window.cr_getC2Runtime=function(){var e=document.getElementById("c2canvas");return e?e.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(e,n){if(0!==e&&0!==n){var c=window.cr_getC2Runtime();c&&c.setSize(e,n)}};window.cr_setSuspended=function(e){var n=window.cr_getC2Runtime();n&&n.setSuspended(e)};
(function(){function e(a,b){this.b=a;this.gf=null;this.scrollX=this.b.ya/2;this.scrollY=this.b.xa/2;this.scale=1;this.i=0;this.lf=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.cn=b[3];this.Nm=b[4];this.J=b[5];var d=b[6],c,f;this.G=[];this.uf=[];c=0;for(f=d.length;c<f;c++){var h=new zb(this,d[c]);h.$l=c;this.G.push(h)}d=b[7];this.Kd=[];c=0;for(f=d.length;c<f;c++){var h=d[c],k=this.b.n[h[1]];k.pc||(k.pc=h);this.Kd.push(h);-1===this.uf.indexOf(k)&&this.uf.push(k)}this.B=[];this.L=[];this.ca=
[];c=0;for(f=b[8].length;c<f;c++)this.B.push({id:b[8][c][0],name:b[8][c][1],Ea:-1,mb:!0,index:c}),this.ca.push(b[8][c][2].slice(0));this.Vc();this.Fj=new ka(0,0,1,1);this.Gj=new ka(0,0,1,1);this.ld={}}function n(a,b){return a.ae-b.ae}function c(a,b){this.V=a;this.b=a.b;this.d=[];this.scale=1;this.i=0;this.Dd=!1;this.Tc=new ka(0,0,0,0);this.Xm=new la;this.Sa=this.Ia=this.Ta=this.Ha=0;this.kb=!1;this.name=b[0];this.index=b[1];this.J=b[2];this.visible=b[3];this.$c=b[4];this.Uc=b[5];this.Lb=b[6];this.Mb=
b[7];this.opacity=b[8];this.vi=b[9];this.nc=b[10];this.Ua=b[11];this.Mo=b[12];this.bf="source-over";this.La=this.Ma=0;this.md=!1;var d=b[13],c,f;this.re=[];c=0;for(f=d.length;c<f;c++){var h=d[c],k=this.b.n[h[1]];k.pc||(k.pc=h,k.yo=this.index);this.re.push(h);-1===this.V.uf.indexOf(k)&&this.V.uf.push(k)}this.B=[];this.L=[];this.ca=[];c=0;for(f=b[14].length;c<f;c++)this.B.push({id:b[14][c][0],name:b[14][c][1],Ea:-1,mb:!0,index:c}),this.ca.push(b[14][c][2].slice(0));this.Vc();this.Fj=new ka(0,0,1,1);
this.Gj=new ka(0,0,1,1)}e.prototype.Rq=function(a){var b=a.type.J.toString();this.ld.hasOwnProperty(b)||(this.ld[b]=[]);this.ld[b].push(this.b.Nj(a))};e.prototype.bl=function(){var a=this.G[0];return!a.Uc&&1===a.opacity&&!a.vi&&a.visible};e.prototype.Vc=function(){this.L.length=0;var a,b,d;a=0;for(b=this.B.length;a<b;a++)d=this.B[a],d.mb&&this.L.push(d)};e.prototype.Ei=function(a){var b,d,c;b=0;for(d=this.B.length;b<d;b++)if(c=this.B[b],c.name===a)return c;return null};var k=[],r=!0;e.prototype.Qj=
function(){this.Nm&&(this.gf=this.b.qi[this.Nm],this.gf.kn());this.b.Y=this;this.scrollX=this.b.ya/2;this.scrollY=this.b.xa/2;var a,b,d,c,f,h,e;a=0;for(d=this.b.n.length;a<d;a++)if(b=this.b.n[a],!b.K)for(f=b.d,b=0,c=f.length;b<c;b++)if(h=f[b],h.e){var u=h.e.$l;u>=this.G.length&&(u=this.G.length-1);h.e=this.G[u];-1===h.e.d.indexOf(h)&&h.e.d.push(h);h.e.kb=!0}if(!r)for(a=0,d=this.G.length;a<d;++a)this.G[a].d.sort(n);k.length=0;this.mo();a=0;for(d=this.G.length;a<d;a++)h=this.G[a],h.wo(),h.Zj();f=!1;
if(!this.lf){for(e in this.ld)if(this.ld.hasOwnProperty(e)&&(b=this.b.Sg(parseInt(e,10)))&&!b.K&&this.b.Xj(b)){c=this.ld[e];a=0;for(d=c.length;a<d;a++){h=null;if(b.Da.hd&&(h=this.Rg(c[a].w.l),!h))continue;h=this.b.Bd(b.pc,h,!1,0,0,!0);this.b.ih(h,c[a]);f=!0;k.push(h)}c.length=0}a=0;for(d=this.G.length;a<d;a++)this.G[a].d.sort(n),this.G[a].kb=!0}f&&(this.b.Ja(),this.b.zm());for(a=0;a<k.length;a++)if(h=k[a],h.type.cc)for(d=h.qf(),b=0,c=h.type.$a.length;b<c;b++)e=h.type.$a[b],h.type!==e&&(e.d.length>
d?h.siblings.push(e.d[d]):e.pc&&(f=this.b.Bd(e.pc,h.e,!0,h.x,h.y,!0),this.b.Ja(),e.Th(),h.siblings.push(f),k.push(f)));a=0;for(d=this.Kd.length;a<d;a++)this.b.Bd(this.Kd[a],null,!0);this.b.fi=null;this.b.Ja();if(this.b.R&&!this.b.da)for(a=0,d=this.b.n.length;a<d;a++)e=this.b.n[a],!e.K&&e.d.length&&e.um&&e.um(this.b.R);a=0;for(d=k.length;a<d;a++)h=k[a],this.b.trigger(Object.getPrototypeOf(h.type.Da).j.Hn,h);k.length=0;this.b.trigger(X.prototype.j.fk,null);this.lf=!1};e.prototype.vo=function(){var a,
b,d,c,f;b=a=0;for(d=this.Kd.length;a<d;a++)c=this.Kd[a],f=this.b.n[c[1]],f.global?this.b.Bd(c,null,!0):(this.Kd[b]=c,b++);this.Kd.length=b};e.prototype.Xq=function(){this.b.trigger(X.prototype.j.Sn,null);this.b.wc.jb.length=0;var a,b,d,c,f,h;a=0;for(b=this.G.length;a<b;a++)for(this.G[a].mn(),f=this.G[a].d,d=0,c=f.length;d<c;d++)h=f[d],h.type.global||this.b.Xj(h.type)&&this.Rq(h);a=0;for(b=this.G.length;a<b;a++){f=this.G[a].d;d=0;for(c=f.length;d<c;d++)h=f[d],h.type.global||this.b.be(h);this.b.Ja();
f.length=0;this.G[a].kb=!0}a=0;for(b=this.b.n.length;a<b;a++)if(f=this.b.n[a],!(f.global||f.Da.hd||f.Da.Dh||f.K)){d=0;for(c=f.d.length;d<c;d++)this.b.be(f.d[d]);this.b.Ja()}r=!1};e.prototype.Ed=function(a){var b,d=a,c=!1,f=!this.b.Eb;f&&(this.b.fh||(this.b.fh=document.createElement("canvas"),b=this.b.fh,b.width=this.b.I,b.height=this.b.H,this.b.Bl=b.getContext("2d"),c=!0),b=this.b.fh,d=this.b.Bl,b.width!==this.b.I&&(b.width=this.b.I,c=!0),b.height!==this.b.H&&(b.height=this.b.H,c=!0),c&&(d.webkitImageSmoothingEnabled=
this.b.Q,d.mozImageSmoothingEnabled=this.b.Q,d.msImageSmoothingEnabled=this.b.Q,d.imageSmoothingEnabled=this.b.Q));d.globalAlpha=1;d.globalCompositeOperation="source-over";this.b.Yh&&!this.bl()&&d.clearRect(0,0,this.b.I,this.b.H);var h,k,c=0;for(h=this.G.length;c<h;c++)k=this.G[c],k.visible&&0<k.opacity&&11!==k.Ua&&(k.d.length||!k.Uc)?k.Ed(d):k.Zj();f&&a.drawImage(b,0,0,this.b.width,this.b.height)};e.prototype.qc=function(a){var b=0<this.L.length||this.b.Qe||!this.b.Eb;if(b){this.b.gb||(this.b.gb=
a.cd(this.b.I,this.b.H,this.b.Q));if(this.b.gb.Ze!==this.b.I||this.b.gb.Ye!==this.b.H)a.deleteTexture(this.b.gb),this.b.gb=a.cd(this.b.I,this.b.H,this.b.Q);a.uc(this.b.gb);this.b.Eb||a.Le(this.b.I,this.b.H)}else this.b.gb&&(a.uc(null),a.deleteTexture(this.b.gb),this.b.gb=null);this.b.Yh&&!this.bl()&&a.clear(0,0,0,0);var d,c,f;d=0;for(c=this.G.length;d<c;d++)f=this.G[d],f.visible&&0<f.opacity&&(f.d.length||!f.Uc)?f.qc(a):f.Zj();b&&(0===this.L.length||1===this.L.length&&this.b.Eb?(1===this.L.length?
(b=this.L[0].index,a.vc(this.L[0].Ea),a.Ke(null,1/this.b.I,1/this.b.H,0,0,1,1,this.scale,this.i,0,0,this.b.I/2,this.b.H/2,this.ca[b]),a.vh(this.L[0].Ea)&&(this.b.X=!0)):a.vc(0),this.b.Eb||a.Le(this.b.width,this.b.height),a.uc(null),a.ag(1),a.Ob(this.b.gb),a.Im(),a.nd(),a.wd(),b=this.b.width/2,d=this.b.height/2,a.wh(-b,d,b,d,b,-d,-b,-d),a.Ob(null)):this.Hj(a,null,null,null))};e.prototype.pf=function(){return 0<this.L.length||this.b.Qe||!this.b.Eb?this.b.gb:null};e.prototype.$k=function(){var a=this.G[0].Fb(),
b,d,c;b=1;for(d=this.G.length;b<d;b++)c=this.G[b],(0!==c.Lb||0!==c.Mb)&&c.Fb()<a&&(a=c.Fb());return a};e.prototype.Gm=function(a){if(!this.cn){var b=1/this.$k()*this.b.I/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.X=!0)};e.prototype.Hm=function(a){if(!this.cn){var b=1/this.$k()*this.b.H/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.X=!0)};e.prototype.mo=function(){this.Gm(this.scrollX);this.Hm(this.scrollY)};e.prototype.Hj=
function(a,b,d,c){var f=d?d.L:b?b.L:this.L,h=1,k=0,e=0,l=0,n=this.b.I,r=this.b.H;d?(h=d.e.Fb(),k=d.e.Yb(),e=d.e.Ha,l=d.e.Ia,n=d.e.Ta,r=d.e.Sa):b&&(h=b.Fb(),k=b.Yb(),e=b.Ha,l=b.Ia,n=b.Ta,r=b.Sa);var m=this.b.yi,p,x,z,g,s=0,Pa=1,fa,J=this.b.I,G=this.b.H,za=J/2,Aa=G/2,O=b?b.Fj:this.Fj,D=b?b.Gj:this.Gj,E=0,T=0,B=0,C=0,y=J,W=J,A=G,L=G,P=z=0,ma=d?d.e.Yb():0;if(d){p=0;for(x=f.length;p<x;p++)z+=a.Bp(f[p].Ea),P+=a.Cp(f[p].Ea);g=d.la;E=b.Qa(g.left,g.top,!0,!0);B=b.Qa(g.left,g.top,!1,!0);y=b.Qa(g.right,g.bottom,
!0,!0);A=b.Qa(g.right,g.bottom,!1,!0);0!==ma&&(p=b.Qa(g.right,g.top,!0,!0),x=b.Qa(g.right,g.top,!1,!0),T=b.Qa(g.left,g.bottom,!0,!0),C=b.Qa(g.left,g.bottom,!1,!0),g=Math.min(E,y,p,T),y=Math.max(E,y,p,T),E=g,g=Math.min(B,A,x,C),A=Math.max(B,A,x,C),B=g);E-=z;B-=P;y+=z;A+=P;D.left=E/J;D.top=1-B/G;D.right=y/J;D.bottom=1-A/G;T=E=N(E);C=B=N(B);W=y=ia(y);L=A=ia(A);T-=z;C-=P;W+=z;L+=P;0>E&&(E=0);0>B&&(B=0);y>J&&(y=J);A>G&&(A=G);0>T&&(T=0);0>C&&(C=0);W>J&&(W=J);L>G&&(L=G);O.left=E/J;O.top=1-B/G;O.right=y/
J;O.bottom=1-A/G}else O.left=D.left=0,O.top=D.top=0,O.right=D.right=1,O.bottom=D.bottom=1;P=d&&((d.i||ma)&&a.Xf(f[0].Ea)||0!==z||0!==P||1!==d.opacity||d.type.Da.Yl)||b&&!d&&1!==b.opacity;a.Im();if(P){m[s]||(m[s]=a.cd(J,G,this.b.Q));if(m[s].Ze!==J||m[s].Ye!==G)a.deleteTexture(m[s]),m[s]=a.cd(J,G,this.b.Q);a.vc(0);a.uc(m[s]);fa=L-C;a.clearRect(T,G-C-fa,W-T,fa);d?d.qc(a):(a.Ob(this.b.tb),a.ag(b.opacity),a.nd(),a.translate(-za,-Aa),a.wd(),a.Wd(E,A,y,A,y,B,E,B,O));D.left=D.top=0;D.right=D.bottom=1;d&&
(g=O.top,O.top=O.bottom,O.bottom=g);s=1;Pa=0}a.ag(1);z=f.length-1;var ma=a.Aj(f[z].Ea)||!b&&!d&&!this.b.Eb,na=0;p=0;for(x=f.length;p<x;p++){m[s]||(m[s]=a.cd(J,G,this.b.Q));if(m[s].Ze!==J||m[s].Ye!==G)a.deleteTexture(m[s]),m[s]=a.cd(J,G,this.b.Q);a.vc(f[p].Ea);na=f[p].index;a.vh(f[p].Ea)&&(this.b.X=!0);0!=p||P?(a.Ke(c,1/J,1/G,D.left,D.top,D.right,D.bottom,h,k,e,l,(e+n)/2,(l+r)/2,d?d.ca[na]:b?b.ca[na]:this.ca[na]),a.Ob(null),p!==z||ma?(a.uc(m[s]),fa=L-C,g=G-C-fa,a.clearRect(T,g,W-T,fa)):(d?a.od(d.Ma,
d.La):b&&a.od(b.Ma,b.La),a.uc(c)),a.Ob(m[Pa]),a.nd(),a.translate(-za,-Aa),a.wd(),a.Wd(E,A,y,A,y,B,E,B,O),p!==z||ma||a.Ob(null)):(a.uc(m[s]),fa=L-C,g=G-C-fa,a.clearRect(T,g,W-T,fa),d?(a.Ke(c,1/d.width,1/d.height,D.left,D.top,D.right,D.bottom,h,k,e,l,(e+n)/2,(l+r)/2,d.ca[na]),d.qc(a)):(a.Ke(c,1/J,1/G,0,0,1,1,h,k,e,l,(e+n)/2,(l+r)/2,b?b.ca[na]:this.ca[na]),a.Ob(b?this.b.tb:this.b.gb),a.nd(),a.translate(-za,-Aa),a.wd(),a.Wd(E,A,y,A,y,B,E,B,O)),D.left=D.top=0,D.right=D.bottom=1,d&&!ma&&(g=A,A=B,B=g));
s=0===s?1:0;Pa=0===s?1:0}ma&&(a.vc(0),d?a.od(d.Ma,d.La):b?a.od(b.Ma,b.La):this.b.Eb||(a.Le(this.b.width,this.b.height),za=this.b.width/2,Aa=this.b.height/2,B=E=0,y=this.b.width,A=this.b.height),a.uc(c),a.Ob(m[Pa]),a.nd(),a.translate(-za,-Aa),a.wd(),d&&1===f.length&&!P?a.Wd(E,B,y,B,y,A,E,A,O):a.Wd(E,A,y,A,y,B,E,B,O),a.Ob(null))};e.prototype.Rg=function(a){var b,d;b=0;for(d=this.G.length;b<d;b++)if(this.G[b].J===a)return this.G[b];return null};e.prototype.ub=function(){var a,b,d,c={sx:this.scrollX,
sy:this.scrollY,s:this.scale,a:this.i,w:this.width,h:this.height,fv:this.lf,persist:this.ld,fx:[],layers:{}};a=0;for(b=this.B.length;a<b;a++)d=this.B[a],c.fx.push({name:d.name,active:d.mb,params:this.ca[d.index]});a=0;for(b=this.G.length;a<b;a++)d=this.G[a],c.layers[d.J.toString()]=d.ub();return c};e.prototype.fc=function(a){var b,d,c,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.i=a.a;this.width=a.w;this.height=a.h;this.ld=a.persist;"undefined"!==typeof a.fv&&(this.lf=a.fv);var h=a.fx;
b=0;for(d=h.length;b<d;b++)if(c=this.Ei(h[b].name))c.mb=h[b].active,this.ca[c.index]=h[b].params;this.Vc();b=a.layers;for(f in b)b.hasOwnProperty(f)&&(a=this.Rg(parseInt(f,10)))&&a.fc(b[f])};mb=e;c.prototype.Vc=function(){this.L.length=0;var a,b,d;a=0;for(b=this.B.length;a<b;a++)d=this.B[a],d.mb&&this.L.push(d)};c.prototype.Ei=function(a){var b,d,c;b=0;for(d=this.B.length;b<d;b++)if(c=this.B[b],c.name===a)return c;return null};c.prototype.wo=function(){var a,b,d,c,f,h;b=a=0;for(d=this.re.length;a<
d;a++){c=this.re[a];f=this.b.n[c[1]];h=this.b.Xj(f);f=!0;if(!h||this.V.lf)c=this.b.Bd(c,this,!0),k.push(c),c.type.global&&(f=!1);f&&(this.re[b]=this.re[a],b++)}this.re.length=b;this.b.Ja();!this.b.A&&this.B.length&&(this.Ua=this.Mo);this.bf=Qa(this.Ua);this.b.k&&Ra(this,this.Ua,this.b.k)};c.prototype.mn=function(){if(this.kb){var a,b;a=0;for(b=this.d.length;a<b;a++)this.d[a].ae=a;this.kb=!1}};c.prototype.Fb=function(a){return this.zp()*(this.b.Eb||a?this.b.We:1)};c.prototype.zp=function(){return(this.scale*
this.V.scale-1)*this.nc+1};c.prototype.Yb=function(){return this.Dd?0:wa(this.V.i+this.i)};c.prototype.Ed=function(a){this.md=this.vi||1!==this.opacity||0!==this.Ua;var b=this.b.canvas,d=a,c=!1;this.md&&(this.b.eh||(this.b.eh=document.createElement("canvas"),b=this.b.eh,b.width=this.b.I,b.height=this.b.H,this.b.Al=b.getContext("2d"),c=!0),b=this.b.eh,d=this.b.Al,b.width!==this.b.I&&(b.width=this.b.I,c=!0),b.height!==this.b.H&&(b.height=this.b.H,c=!0),c&&(d.webkitImageSmoothingEnabled=this.b.Q,d.mozImageSmoothingEnabled=
this.b.Q,d.msImageSmoothingEnabled=this.b.Q,d.imageSmoothingEnabled=this.b.Q),this.Uc&&d.clearRect(0,0,this.b.I,this.b.H));d.globalAlpha=1;d.globalCompositeOperation="source-over";this.Uc||(d.fillStyle="rgb("+this.$c[0]+","+this.$c[1]+","+this.$c[2]+")",d.fillRect(0,0,this.b.I,this.b.H));d.save();this.Dd=!0;var c=this.Pa(0,0,!0,!0),f=this.Pa(0,0,!1,!0);this.Dd=!1;this.b.Ie&&(c=Math.round(c),f=Math.round(f));this.Jj(c,f,d);var h=this.Fb();d.scale(h,h);d.translate(-c,-f);for(var k,c=0,f=this.d.length;c<
f;c++)h=this.d[c],h.visible&&0!==h.width&&0!==h.height&&(h.ia(),k=h.la,k.right<this.Ha||k.bottom<this.Ia||k.left>this.Ta||k.top>this.Sa||(d.globalCompositeOperation=h.bf,h.Ed(d)));d.restore();this.md&&(a.globalCompositeOperation=this.bf,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};c.prototype.Zj=function(){this.Dd=!0;var a=this.Pa(0,0,!0,!0),b=this.Pa(0,0,!1,!0);this.Dd=!1;this.b.Ie&&(a=Math.round(a),b=Math.round(b));this.Jj(a,b,null)};c.prototype.Jj=function(a,b,d){var c=this.Fb();this.Ha=a;this.Ia=
b;this.Ta=a+1/c*this.b.I;this.Sa=b+1/c*this.b.H;a=this.Yb();0!==a&&(d&&(d.translate(this.b.I/2,this.b.H/2),d.rotate(-a),d.translate(this.b.I/-2,this.b.H/-2)),this.Tc.set(this.Ha,this.Ia,this.Ta,this.Sa),this.Tc.offset((this.Ha+this.Ta)/-2,(this.Ia+this.Sa)/-2),this.Xm.Lm(this.Tc,a),this.Xm.yk(this.Tc),this.Tc.offset((this.Ha+this.Ta)/2,(this.Ia+this.Sa)/2),this.Ha=this.Tc.left,this.Ia=this.Tc.top,this.Ta=this.Tc.right,this.Sa=this.Tc.bottom)};c.prototype.qc=function(a){var b=this.b.I,d=this.b.H,c=
0,f=0;if(this.md=this.vi||1!==this.opacity||0<this.L.length||0!==this.Ua){this.b.tb||(this.b.tb=a.cd(this.b.I,this.b.H,this.b.Q));if(this.b.tb.Ze!==this.b.I||this.b.tb.Ye!==this.b.H)a.deleteTexture(this.b.tb),this.b.tb=a.cd(this.b.I,this.b.H,this.b.Q);a.uc(this.b.tb);this.Uc&&a.clear(0,0,0,0)}this.Uc||a.clear(this.$c[0]/255,this.$c[1]/255,this.$c[2]/255,1);this.Dd=!0;var f=this.Pa(0,0,!0,!0),h=this.Pa(0,0,!1,!0);this.Dd=!1;this.b.Ie&&(f=Math.round(f),h=Math.round(h));this.Jj(f,h,null);h=this.Fb();
a.nd();a.scale(h,h);a.Dm(-this.Yb());a.translate((this.Ha+this.Ta)/-2,(this.Ia+this.Sa)/-2);a.wd();var k,e,l;k=0;for(e=this.d.length;k<e;k++)if(l=this.d[k],l.visible&&0!==l.width&&0!==l.height&&(l.ia(),c=l.la,!(c.right<this.Ha||c.bottom<this.Ia||c.left>this.Ta||c.top>this.Sa)))if(l.on)if(c=l.L[0].Ea,f=l.L[0].index,1!==l.L.length||a.Aj(c)||a.Hq(c)||(l.i||l.e.Yb())&&a.Xf(c)||1!==l.opacity||l.type.Da.Yl)this.V.Hj(a,this,l,this.md?this.b.tb:this.V.pf()),a.nd(),a.scale(h,h),a.Dm(-this.Yb()),a.translate((this.Ha+
this.Ta)/-2,(this.Ia+this.Sa)/-2),a.wd();else{a.vc(c);a.od(l.Ma,l.La);a.vh(c)&&(this.b.X=!0);var n=0,r=0,m=0,p=0;a.Xf(c)&&(c=l.la,n=this.Qa(c.left,c.top,!0,!0),r=this.Qa(c.left,c.top,!1,!0),m=this.Qa(c.right,c.bottom,!0,!0),c=this.Qa(c.right,c.bottom,!1,!0),n/=b,r=1-r/d,m/=b,p=1-c/d);a.Ke(this.md?this.b.tb:this.V.pf(),1/l.width,1/l.height,n,r,m,p,this.Fb(),this.Yb(),this.Ha,this.Ia,(this.Ha+this.Ta)/2,(this.Ia+this.Sa)/2,l.ca[f]);l.qc(a)}else a.vc(0),a.od(l.Ma,l.La),l.qc(a);this.md&&(c=this.L.length?
this.L[0].Ea:0,f=this.L.length?this.L[0].index:0,0===this.L.length||1===this.L.length&&!a.Aj(c)&&1===this.opacity?(1===this.L.length?(a.vc(c),a.Ke(this.V.pf(),1/this.b.I,1/this.b.H,0,0,1,1,this.Fb(),this.Yb(),this.Ha,this.Ia,(this.Ha+this.Ta)/2,(this.Ia+this.Sa)/2,this.ca[f]),a.vh(c)&&(this.b.X=!0)):a.vc(0),a.uc(this.V.pf()),a.ag(this.opacity),a.Ob(this.b.tb),a.od(this.Ma,this.La),a.nd(),a.wd(),b=this.b.I/2,d=this.b.H/2,a.wh(-b,d,b,d,b,-d,-b,-d),a.Ob(null)):this.V.Hj(a,this,null,this.V.pf()))};c.prototype.Pa=
function(a,b,c,k){var f=this.b.devicePixelRatio;this.b.Md&&(a*=f,b*=f);var f=this.b.mm,h=this.b.nm,f=(this.V.scrollX-f)*this.Lb+f,h=(this.V.scrollY-h)*this.Mb+h,e=1/this.Fb(!k);k?(f-=this.b.I*e/2,h-=this.b.H*e/2):(f-=this.b.width*e/2,h-=this.b.height*e/2);f+=a*e;h+=b*e;b=this.Yb();0!==b&&(f-=this.V.scrollX,h-=this.V.scrollY,a=Math.cos(b),b=Math.sin(b),k=f*a-h*b,h=h*a+f*b,f=k+this.V.scrollX,h+=this.V.scrollY);return c?f:h};c.prototype.Qa=function(a,b,c,k){var f=this.Yb();if(0!==f){a-=this.V.scrollX;
b-=this.V.scrollY;var h=Math.cos(-f),f=Math.sin(-f),e=a*h-b*f;b=b*h+a*f;a=e+this.V.scrollX;b+=this.V.scrollY}h=this.b.mm;f=this.b.nm;h=(this.V.scrollX-h)*this.Lb+h;f=(this.V.scrollY-f)*this.Mb+f;e=1/this.Fb(!k);k?(h-=this.b.I*e/2,f-=this.b.H*e/2):(h-=this.b.width*e/2,f-=this.b.height*e/2);h=(a-h)/e;f=(b-f)/e;a=this.b.devicePixelRatio;this.b.Md&&!k&&(h/=a,f/=a);return c?h:f};c.prototype.ub=function(){var a,b,c,k={s:this.scale,a:this.i,vl:this.Ha,vt:this.Ia,vr:this.Ta,vb:this.Sa,v:this.visible,bc:this.$c,
t:this.Uc,px:this.Lb,py:this.Mb,o:this.opacity,zr:this.nc,fx:[],instances:[]};a=0;for(b=this.B.length;a<b;a++)c=this.B[a],k.fx.push({name:c.name,active:c.mb,params:this.ca[c.index]});return k};c.prototype.fc=function(a){var b,c;this.scale=a.s;this.i=a.a;this.Ha=a.vl;this.Ia=a.vt;this.Ta=a.vr;this.Sa=a.vb;this.visible=a.v;this.$c=a.bc;this.Uc=a.t;this.Lb=a.px;this.Mb=a.py;this.opacity=a.o;this.nc=a.zr;var k=a.fx;a=0;for(b=k.length;a<b;a++)if(c=this.Ei(k[a].name))c.mb=k[a].active,this.ca[c.index]=k[a].params;
this.Vc();this.d.sort(n);this.kb=!0};zb=c})();
(function(){function e(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function n(a,b){return a.index-b.index}function c(a){var b,c,d,g;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(n);a.length>=l.length&&(l.length=a.length+1);l[a.length]||(l[a.length]=[]);g=l[a.length];b=0;for(c=g.length;b<c;b++)if(d=g[b],e(a,d))return d;g.push(a);return a}
function k(a,b){this.b=a;this.Zm={};this.Qk={};this.Li=!1;this.dl=new F;this.mi=[];this.Zh=[];this.name=b[0];var c=b[1];this.dd=[];var d,g;d=0;for(g=c.length;d<g;d++)this.fl(c[d],null,this.dd)}function r(a){this.type=a;this.d=[];this.N=[];this.aa=!0}function a(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ha=[];this.qd=[];this.cl=this.Qh=this.Uj=this.Qi=this.group=this.Qm=!1;this.Ka=[];this.Sb=[];this.Qb=[];this.rf="";this.Tg=this.Qi=this.group=!1;this.Gk=null;c[1]&&(this.rf=c[1][1].toLowerCase(),
this.group=!0,this.Qi=!!c[1][0],this.Gk=[],this.Tg=this.Qi,this.b.ie.push(this),this.b.Ug[this.rf]=this);this.tc=c[2];this.J=c[4];this.group||(this.b.xk[this.J.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var g=new Ab(this,d[a]);g.index=a;this.Ka.push(g);this.tk(g.type)}d=c[6];a=0;for(b=d.length;a<b;a++)g=new Bb(this,d[a]),g.index=a,this.Sb.push(g);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.fl(c[a],this,this.Qb);this.Zg=!1;this.Ka.length&&(this.Zg=null==this.Ka[0].type&&
this.Ka[0].Ba==X.prototype.j.un)}function b(a,b){var c,d,g;if(a&&(-1===b.indexOf(a)&&b.push(a),a.cc))for(c=0,d=a.$a.length;c<d;c++)g=a.$a[c],a!==g&&-1===b.indexOf(g)&&b.push(g)}function d(a,b){this.nb=a;this.sheet=a.sheet;this.b=a.b;this.D=[];this.S=[];this.U={};this.index=-1;this.Ve=!1;this.Ba=this.b.Xc(b[1]);this.trigger=0<b[3];this.Pk=2===b[3];this.Si=b[5];this.nq=b[6];this.J=b[7];this.b.ke[this.J.toString()]=this;-1===b[0]?(this.type=null,this.ra=this.Mj,this.Ad=null,this.Bb=-1):(this.type=this.b.n[b[0]],
this.ra=this.nq?this.Pq:this.Lj,b[2]?(this.Ad=this.type.Qg(b[2]),this.Bb=this.type.Bi(b[2])):(this.Ad=null,this.Bb=-1),this.nb.parent&&this.nb.parent.Ah());this.Pk&&(this.ra=this.Qq);if(10===b.length){var c,d,g=b[9];c=0;for(d=g.length;c<d;c++){var f=new Cb(this,g[c]);this.D.push(f)}this.S.length=g.length}}function t(a,b){this.nb=a;this.sheet=a.sheet;this.b=a.b;this.D=[];this.S=[];this.U={};this.index=-1;this.Ve=!1;this.Ba=this.b.Xc(b[1]);-1===b[0]?(this.type=null,this.ra=this.Mj,this.Ad=null,this.Bb=
-1):(this.type=this.b.n[b[0]],this.ra=this.Lj,b[2]?(this.Ad=this.type.Qg(b[2]),this.Bb=this.type.Bi(b[2])):(this.Ad=null,this.Bb=-1));this.J=b[3];this.b.he[this.J.toString()]=this;if(6===b.length){var c,d,g=b[5];c=0;for(d=g.length;c<d;c++){var f=new Cb(this,g[c]);this.D.push(f)}this.S.length=g.length}}function f(a,b){this.q=a;this.nb=a.nb;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.rc=null;this.rd=0;this.get=null;this.Fk=0;this.V=null;this.key=0;this.object=null;this.index=0;this.mg=this.Zd=
this.mg=this.Zd=this.Rk=this.Gd=this.ng=null;this.Rb=!1;var c,d,g;switch(b[0]){case 0:case 7:this.rc=new U(this,b[1]);this.rd=0;this.get=this.Jp;break;case 1:this.rc=new U(this,b[1]);this.rd=0;this.get=this.Kp;break;case 5:this.rc=new U(this,b[1]);this.rd=0;this.get=this.Op;break;case 3:case 8:this.Fk=b[1];this.get=this.Hp;break;case 6:this.V=this.b.cj[b[1]];this.get=this.Pp;break;case 9:this.key=b[1];this.get=this.Np;break;case 4:this.object=this.b.n[b[1]];this.get=this.Qp;this.nb.tk(this.object);
this.q instanceof Bb?this.nb.Ah():this.nb.parent&&this.nb.parent.Ah();break;case 10:this.index=b[1];a.type.K?(this.get=this.Lp,this.Rb=!0):this.get=this.Mp;break;case 11:this.ng=b[1];this.Gd=null;this.get=this.Ip;break;case 2:case 12:this.Rk=b[1];this.get=this.Gp;break;case 13:for(this.get=this.Rp,this.Zd=[],this.mg=[],c=1,d=b.length;c<d;c++)g=new Cb(this.q,b[c]),this.Zd.push(g),this.mg.push(0)}}function h(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ha=[];this.name=c[1];this.Pi=c[3];this.zf=
!!c[4];this.Yg=!!c[5];this.J=c[6];this.b.Se[this.J.toString()]=this;this.data=this.Pi;this.parent?(this.Ud=this.zf||this.Yg?-1:this.b.Wq++,this.b.io.push(this)):(this.Ud=-1,this.b.ho.push(this))}function q(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ha=[];this.tf=null;this.Yp=c[1];this.mb=!0}function u(){this.Sm=[];this.reset(null)}var l=[];k.prototype.toString=function(){return this.name};k.prototype.fl=function(a,b,c){switch(a[0]){case 0:a=new Db(this,b,a);if(a.tc)for(c.push(a),c=0,b=a.Ka.length;c<
b;c++)a.Ka[c].trigger&&this.gl(a,c);else a.ql()?this.gl(a,0):c.push(a);break;case 1:a=new wb(this,b,a);c.push(a);break;case 2:a=new Eb(this,b,a),c.push(a)}};k.prototype.fa=function(){var a,b;a=0;for(b=this.dd.length;a<b;a++)this.dd[a].fa(a<b-1&&this.dd[a+1].Zg)};k.prototype.kn=function(){this.mi.length=0;this.Zh.length=0;this.rk(this);this.Zh.length=0};k.prototype.rk=function(a){var b,c,d,g,f=a.mi,l=a.Zh,h=this.dl.xd();b=0;for(c=h.length;b<c;++b)d=h[b],g=d.tf,!d.mb||a===g||-1<l.indexOf(g)||(l.push(g),
g.rk(a),f.push(g))};k.prototype.ra=function(a){this.b.Ks||(this.Li=!0,a||(this.b.Vi=!0));var b,c;b=0;for(c=this.dd.length;b<c;b++){var d=this.dd[b];d.ra();this.b.gi(d.ha);this.b.ed&&this.b.Ja()}a||(this.b.Vi=!1)};k.prototype.gl=function(a,b){a.tc||this.b.Sh.push(a);var c,d,g=a.Ka[b],f;f=g.type?g.type.name:"system";var l=(c=g.Pk)?this.Qk:this.Zm;l[f]||(l[f]=[]);f=l[f];l=g.Ba;if(c){if(g.D.length&&(g=g.D[0],1===g.type&&2===g.rc.type)){g=g.rc.value.toLowerCase();c=0;for(d=f.length;c<d;c++)if(f[c].method==
l){c=f[c].hf;c[g]?c[g].push([a,b]):c[g]=[[a,b]];return}c={};c[g]=[[a,b]];f.push({method:l,hf:c})}}else{c=0;for(d=f.length;c<d;c++)if(f[c].method==l){f[c].hf.push([a,b]);return}Sb&&l===Sb.prototype.j.fe?f.unshift({method:l,hf:[[a,b]]}):f.push({method:l,hf:[[a,b]]})}};nb=k;r.prototype.Ki=function(){return this.aa?this.type.d.length:this.d.length};r.prototype.Zb=function(){return this.aa?this.type.d:this.d};r.prototype.Vf=function(a){a&&(a.b.bb().Wb.tc?(this.aa&&(this.d.length=0,qa(this.N,a.type.d),
this.aa=!1),a=this.N.indexOf(a),-1!==a&&(this.d.push(this.N[a]),this.N.splice(a,1))):(this.aa=!1,this.d.length=1,this.d[0]=a))};Xa=r;window._c2hh_="";a.prototype.fa=function(a){var b,d=this.parent;if(this.group)for(this.Qh=!0;d;){if(!d.group){this.Qh=!1;break}d=d.parent}this.Uj=!this.ql()&&(!this.parent||this.parent.group&&this.parent.Qh);this.cl=!!a;this.qd=this.ha.slice(0);for(d=this.parent;d;){a=0;for(b=d.ha.length;a<b;a++)this.fo(d.ha[a]);d=d.parent}this.ha=c(this.ha);this.qd=c(this.qd);a=0;for(b=
this.Ka.length;a<b;a++)this.Ka[a].fa();a=0;for(b=this.Sb.length;a<b;a++)this.Sb[a].fa();a=0;for(b=this.Qb.length;a<b;a++)this.Qb[a].fa(a<b-1&&this.Qb[a+1].Zg)};a.prototype.tk=function(a){b(a,this.ha)};a.prototype.fo=function(a){b(a,this.qd)};a.prototype.Ah=function(){this.Qm=!0;this.parent&&this.parent.Ah()};a.prototype.ql=function(){return this.Ka.length?this.Ka[0].trigger:!1};a.prototype.ra=function(){var a,b=!1,c,d=this.b,g=this.b.bb();g.Wb=this;var f=this.Ka;this.Zg||(g.ni=!1);if(this.tc){0===
f.length&&(b=!0);g.Va=0;for(a=f.length;g.Va<a;g.Va++)f[g.Va].trigger||(c=f[g.Va].ra())&&(b=!0);(g.Rd=b)&&this.Kj()}else{g.Va=0;for(a=f.length;g.Va<a;g.Va++)if(c=f[g.Va].ra(),!c){g.Rd=!1;this.Uj&&d.ed&&d.Ja();return}g.Rd=!0;this.Kj()}this.Oo(g)};a.prototype.Oo=function(a){a.Rd&&this.cl&&(a.ni=!0);this.Uj&&this.b.ed&&this.b.Ja()};a.prototype.Nq=function(a){this.b.bb().Wb=this;this.Ka[a].ra()&&(this.Kj(),this.b.bb().Rd=!0)};a.prototype.Kj=function(){var a=this.b.bb(),b;a.zb=0;for(b=this.Sb.length;a.zb<
b;a.zb++)if(this.Sb[a.zb].ra())return;this.Em()};a.prototype.Lq=function(){var a=this.b.bb(),b;for(b=this.Sb.length;a.zb<b;a.zb++)if(this.Sb[a.zb].ra())return;this.Em()};a.prototype.Em=function(){if(this.Qb.length){var a,b,c,d,g=this.Qb.length-1;this.b.Cj(this);if(this.Qm)for(a=0,b=this.Qb.length;a<b;a++)c=this.Qb[a],(d=!this.Qh||!this.group&&a<g)&&this.b.Bj(c.ha),c.ra(),d?this.b.Je(c.ha):this.b.gi(c.ha);else for(a=0,b=this.Qb.length;a<b;a++)this.Qb[a].ra();this.b.qm()}};a.prototype.Oq=function(){var a=
this.b.bb();a.Wb=this;var b=!1,c;a.Va=0;for(c=this.Ka.length;a.Va<c;a.Va++)if(this.Ka[a.Va].ra())b=!0;else if(!this.tc)return!1;return this.tc?b:!0};a.prototype.hq=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Ka[b].type===a.type)return!1;return!0};Db=a;d.prototype.fa=function(){var a,b,c;a=0;for(b=this.D.length;a<b;a++)c=this.D[a],c.fa(),c.Rb&&(this.Ve=!0)};d.prototype.Qq=function(){return!0};d.prototype.Mj=function(){var a,b;a=0;for(b=this.D.length;a<b;a++)this.S[a]=this.D[a].get();
return Fa(this.Ba.apply(this.b.wc,this.S),this.Si)};d.prototype.Pq=function(){var a,b;a=0;for(b=this.D.length;a<b;a++)this.S[a]=this.D[a].get();a=this.Ba.apply(this.Ad?this.Ad:this.type,this.S);this.type.Bc();return a};d.prototype.Lj=function(){var a,b,c,d,g,f,l,h,k=this.type,e=k.W(),n=this.nb.tc&&!this.trigger;b=0;var r=k.cc,q=k.K,v=k.Kc,u=this.Bb,t=-1<u,w=this.Ve,C=this.D,y=this.S,W=this.Si,A=this.Ba,L;if(w)for(b=0,g=C.length;b<g;++b)f=C[b],f.Rb||(y[b]=f.get(0));else for(b=0,g=C.length;b<g;++b)y[b]=
C[b].get(0);if(e.aa){e.d.length=0;e.N.length=0;L=k.d;a=0;for(d=L.length;a<d;++a){h=L[a];if(w)for(b=0,g=C.length;b<g;++b)f=C[b],f.Rb&&(y[b]=f.get(a));t?(b=0,q&&(b=h.type.oe[v]),b=A.apply(h.F[u+b],y)):b=A.apply(h,y);(l=Fa(b,W))?e.d.push(h):n&&e.N.push(h)}k.finish&&k.finish(!0);e.aa=!1;k.Bc();return e.Ki()}c=0;L=(l=n&&!this.nb.hq(this))?e.N:e.d;var P=!1;a=0;for(d=L.length;a<d;++a){h=L[a];if(w)for(b=0,g=C.length;b<g;++b)f=C[b],f.Rb&&(y[b]=f.get(a));t?(b=0,q&&(b=h.type.oe[v]),b=A.apply(h.F[u+b],y)):b=
A.apply(h,y);if(Fa(b,W))if(P=!0,l){if(e.d.push(h),r)for(b=0,g=h.siblings.length;b<g;b++)f=h.siblings[b],f.type.W().d.push(f)}else{L[c]=h;if(r)for(b=0,g=h.siblings.length;b<g;b++)f=h.siblings[b],f.type.W().d[c]=f;c++}else if(l){L[c]=h;if(r)for(b=0,g=h.siblings.length;b<g;b++)f=h.siblings[b],f.type.W().N[c]=f;c++}else if(n&&(e.N.push(h),r))for(b=0,g=h.siblings.length;b<g;b++)f=h.siblings[b],f.type.W().N.push(f)}L.length=c;if(r)for(q=k.$a,a=0,d=q.length;a<d;a++)h=q[a].W(),l?h.N.length=c:h.d.length=c;
c=P;if(l&&!P)for(a=0,d=e.d.length;a<d;a++){h=e.d[a];if(w)for(b=0,g=C.length;b<g;b++)f=C[b],f.Rb&&(y[b]=f.get(a));b=t?A.apply(h.F[u],y):A.apply(h,y);if(Fa(b,W)){P=!0;break}}k.finish&&k.finish(c||n);return n?P:e.Ki()};Ab=d;t.prototype.fa=function(){var a,b,c;a=0;for(b=this.D.length;a<b;a++)c=this.D[a],c.fa(),c.Rb&&(this.Ve=!0)};t.prototype.Mj=function(){var a,b;a=0;for(b=this.D.length;a<b;a++)this.S[a]=this.D[a].get();return this.Ba.apply(this.b.wc,this.S)};t.prototype.Lj=function(){var a=this.type.W().Zb(),
b=this.type.K,c=this.type.Kc,d=this.Bb,g=-1<d,f=this.Ve,l=this.D,h=this.S,k=this.Ba,e,n,r,q,v,u;if(f)for(n=0,q=l.length;n<q;++n)v=l[n],v.Rb||(h[n]=v.get(0));else for(n=0,q=l.length;n<q;++n)h[n]=l[n].get(0);e=0;for(r=a.length;e<r;++e){u=a[e];if(f)for(n=0,q=l.length;n<q;++n)v=l[n],v.Rb&&(h[n]=v.get(e));g?(n=0,b&&(n=u.type.oe[c]),k.apply(u.F[d+n],h)):k.apply(u,h)}return!1};Bb=t;var v=[],w=-1;f.prototype.fa=function(){var a,b;if(11===this.type)this.Gd=this.b.Wk(this.ng,this.nb.parent);else if(13===this.type)for(a=
0,b=this.Zd.length;a<b;a++)this.Zd[a].fa();this.rc&&this.rc.fa()};f.prototype.tq=function(a){this.Rb||!a||a.Da.Dh||(this.Rb=!0)};f.prototype.Jm=function(){this.Rb=!0};f.prototype.qa=function(){w++;v.length===w&&v.push(new Fb);return v[w]};f.prototype.ka=function(){w--};f.prototype.Jp=function(a){this.rd=a||0;a=this.qa();this.rc.get(a);this.ka();return a.data};f.prototype.Kp=function(a){this.rd=a||0;a=this.qa();this.rc.get(a);this.ka();return K(a.data)?a.data:""};f.prototype.Qp=function(){return this.object};
f.prototype.Hp=function(){return this.Fk};f.prototype.Op=function(a){this.rd=a||0;a=this.qa();this.rc.get(a);this.ka();return a.wa()?this.b.nf(a.data):this.b.Hi(a.data)};f.prototype.Pp=function(){return this.V};f.prototype.Np=function(){return this.key};f.prototype.Mp=function(){return this.index};f.prototype.Lp=function(a){a=a||0;var b=this.q.type,c=null,c=b.W(),d=c.Zb();if(d.length)c=d[a%d.length].type;else if(c.N.length)c=c.N[a%c.N.length].type;else if(b.d.length)c=b.d[a%b.d.length].type;else return 0;
return this.index+c.Lg[b.Kc]};f.prototype.Ip=function(){return this.Gd};f.prototype.Gp=function(){return this.Rk};f.prototype.Rp=function(){var a,b;a=0;for(b=this.Zd.length;a<b;a++)this.mg[a]=this.Zd[a].get();return this.mg};Cb=f;h.prototype.fa=function(){this.ha=c(this.ha)};h.prototype.Tq=function(a){var b=this.b.Vk();this.parent&&!this.zf&&b?(this.Ud>=b.length&&(b.length=this.Ud+1),b[this.Ud]=a):this.data=a};h.prototype.Fp=function(){var a=this.b.Vk();return!this.parent||this.zf||!a||this.Yg?this.data:
this.Ud>=a.length||"undefined"===typeof a[this.Ud]?this.Pi:a[this.Ud]};h.prototype.ra=function(){!this.parent||this.zf||this.Yg||this.Tq(this.Pi)};wb=h;q.prototype.toString=function(){return"include:"+this.tf.toString()};q.prototype.fa=function(){this.tf=this.b.qi[this.Yp];this.sheet.dl.add(this);this.ha=c(this.ha);for(var a=this.parent;a;)a.group&&a.Gk.push(this),a=a.parent;this.dr()};q.prototype.ra=function(){this.parent&&this.b.Yf(this.b.n);this.tf.Li||this.tf.ra(!0);this.parent&&this.b.Je(this.b.n)};
q.prototype.dr=function(){for(var a=this.parent;a;){if(a.group&&!a.Tg){this.mb=!1;return}a=a.parent}this.mb=!0};Eb=q;u.prototype.reset=function(a){this.Wb=a;this.zb=this.Va=0;this.Sm.length=0;this.ni=this.Rd=!1};vb=u})();
(function(){function e(c,k){this.q=c;this.b=c.b;this.type=k[0];this.get=[this.$o,this.Wo,this.ip,this.lp,this.Qo,this.jp,this.ep,this.To,this.dp,this.hp,this.Ro,this.gp,this.Uo,this.fp,this.bp,this.cp,this.Xo,this.Yo,this.So,this.kp,this.Nk,this.Zo,this.Nk,this.Vo][this.type];var e=null;this.Xa=this.D=this.S=this.Ba=this.Mh=this.Aa=this.first=this.value=null;this.Bb=-1;this.Nc=null;this.ak=-1;this.Gd=this.ng=null;this.$f=!1;switch(this.type){case 0:case 1:case 2:this.value=k[1];break;case 3:this.first=
new U(c,k[1]);break;case 18:this.first=new U(c,k[1]);this.Aa=new U(c,k[2]);this.Mh=new U(c,k[3]);break;case 19:this.Ba=this.b.Xc(k[1]);this.Ba!==X.prototype.Xb.random&&this.Ba!==X.prototype.Xb.qo||this.q.Jm();this.S=[];this.D=[];3===k.length?(e=k[2],this.S.length=e.length+1):this.S.length=1;break;case 20:this.Xa=this.b.n[k[1]];this.Bb=-1;this.Ba=this.b.Xc(k[2]);this.$f=k[3];Hb.Function&&this.Ba===Hb.Function.prototype.Xb.pr&&this.q.Jm();this.Nc=k[4]?new U(c,k[4]):null;this.S=[];this.D=[];6===k.length?
(e=k[5],this.S.length=e.length+1):this.S.length=1;break;case 21:this.Xa=this.b.n[k[1]];this.$f=k[2];this.Nc=k[3]?new U(c,k[3]):null;this.ak=k[4];break;case 22:this.Xa=this.b.n[k[1]];this.Xa.Qg(k[2]);this.Bb=this.Xa.Bi(k[2]);this.Ba=this.b.Xc(k[3]);this.$f=k[4];this.Nc=k[5]?new U(c,k[5]):null;this.S=[];this.D=[];7===k.length?(e=k[6],this.S.length=e.length+1):this.S.length=1;break;case 23:this.ng=k[1],this.Gd=null}this.q.tq(this.Xa);4<=this.type&&17>=this.type&&(this.first=new U(c,k[1]),this.Aa=new U(c,
k[2]));if(e){var a,b;a=0;for(b=e.length;a<b;a++)this.D.push(new U(c,e[a]))}}function n(c,k){this.type=c||V.ee;this.data=k||0;this.Fe=null;this.type==V.ee&&(this.data=Math.floor(this.data))}e.prototype.fa=function(){23===this.type&&(this.Gd=this.q.b.Wk(this.ng,this.q.nb.parent));this.first&&this.first.fa();this.Aa&&this.Aa.fa();this.Mh&&this.Mh.fa();this.Nc&&this.Nc.fa();if(this.D){var c,k;c=0;for(k=this.D.length;c<k;c++)this.D[c].fa()}};e.prototype.kp=function(c){this.S[0]=c;c=this.q.qa();var k,e;
k=0;for(e=this.D.length;k<e;k++)this.D[k].get(c),this.S[k+1]=c.data;this.q.ka();this.Ba.apply(this.b.wc,this.S)};e.prototype.Nk=function(c){var k=this.Xa.W(),e=k.Zb();if(!e.length)if(k.N.length)e=k.N;else{this.$f?c.wb(""):c.T(0);return}this.S[0]=c;c.Fe=this.Xa;c=this.q.qa();var a,k=0;for(a=this.D.length;k<a;k++)this.D[k].get(c),this.S[k+1]=c.data;k=this.q.rd;this.Nc&&(this.Nc.get(c),c.wa()&&(k=c.data,e=this.Xa.d));this.q.ka();k%=e.length;0>k&&(k+=e.length);e=e[k];-1<this.Bb?(c=0,this.Xa.K&&(c=e.type.oe[this.Xa.Kc]),
this.Ba.apply(e.F[this.Bb+c],this.S)):this.Ba.apply(e,this.S)};e.prototype.Zo=function(c){var k=this.Xa.W(),e=k.Zb();if(!e.length)if(k.N.length)e=k.N;else{this.$f?c.wb(""):c.T(0);return}k=this.q.rd;if(this.Nc){var a=this.q.qa();this.Nc.get(a);if(a.wa()){k=a.data;e=this.Xa.d;k%=e.length;0>k&&(k+=e.length);e=e[k].ma[this.ak];K(e)?c.wb(e):c.u(e);this.q.ka();return}this.q.ka()}k%=e.length;0>k&&(k+=e.length);e=e[k];k=0;this.Xa.K&&(k=e.type.Lg[this.Xa.Kc]);e=e.ma[this.ak+k];K(e)?c.wb(e):c.u(e)};e.prototype.$o=
function(c){c.type=V.ee;c.data=this.value};e.prototype.Wo=function(c){c.type=V.de;c.data=this.value};e.prototype.ip=function(c){c.type=V.String;c.data=this.value};e.prototype.lp=function(c){this.first.get(c);c.wa()&&(c.data=-c.data)};e.prototype.Qo=function(c){this.first.get(c);var e=this.q.qa();this.Aa.get(e);c.wa()&&e.wa()&&(c.data+=e.data,e.ve()&&c.Ce());this.q.ka()};e.prototype.jp=function(c){this.first.get(c);var e=this.q.qa();this.Aa.get(e);c.wa()&&e.wa()&&(c.data-=e.data,e.ve()&&c.Ce());this.q.ka()};
e.prototype.ep=function(c){this.first.get(c);var e=this.q.qa();this.Aa.get(e);c.wa()&&e.wa()&&(c.data*=e.data,e.ve()&&c.Ce());this.q.ka()};e.prototype.To=function(c){this.first.get(c);var e=this.q.qa();this.Aa.get(e);c.wa()&&e.wa()&&(c.data/=e.data,c.Ce());this.q.ka()};e.prototype.dp=function(c){this.first.get(c);var e=this.q.qa();this.Aa.get(e);c.wa()&&e.wa()&&(c.data%=e.data,e.ve()&&c.Ce());this.q.ka()};e.prototype.hp=function(c){this.first.get(c);var e=this.q.qa();this.Aa.get(e);c.wa()&&e.wa()&&
(c.data=Math.pow(c.data,e.data),e.ve()&&c.Ce());this.q.ka()};e.prototype.Ro=function(c){this.first.get(c);var e=this.q.qa();this.Aa.get(e);c.wa()?e.$g()?c.wb(c.data.toString()+e.data):c.data&&e.data?c.T(1):c.T(0):c.$g()&&(c.data=e.$g()?c.data+e.data:c.data+(Math.round(1E10*e.data)/1E10).toString());this.q.ka()};e.prototype.gp=function(c){this.first.get(c);var e=this.q.qa();this.Aa.get(e);c.wa()&&e.wa()&&(c.data||e.data?c.T(1):c.T(0));this.q.ka()};e.prototype.So=function(c){this.first.get(c);c.data?
this.Aa.get(c):this.Mh.get(c)};e.prototype.Uo=function(c){this.first.get(c);var e=this.q.qa();this.Aa.get(e);c.T(c.data===e.data?1:0);this.q.ka()};e.prototype.fp=function(c){this.first.get(c);var e=this.q.qa();this.Aa.get(e);c.T(c.data!==e.data?1:0);this.q.ka()};e.prototype.bp=function(c){this.first.get(c);var e=this.q.qa();this.Aa.get(e);c.T(c.data<e.data?1:0);this.q.ka()};e.prototype.cp=function(c){this.first.get(c);var e=this.q.qa();this.Aa.get(e);c.T(c.data<=e.data?1:0);this.q.ka()};e.prototype.Xo=
function(c){this.first.get(c);var e=this.q.qa();this.Aa.get(e);c.T(c.data>e.data?1:0);this.q.ka()};e.prototype.Yo=function(c){this.first.get(c);var e=this.q.qa();this.Aa.get(e);c.T(c.data>=e.data?1:0);this.q.ka()};e.prototype.Vo=function(c){var e=this.Gd.Fp();I(e)?c.u(e):c.wb(e)};U=e;n.prototype.ve=function(){return this.type===V.de};n.prototype.wa=function(){return this.type===V.ee||this.type===V.de};n.prototype.$g=function(){return this.type===V.String};n.prototype.Ce=function(){this.ve()||(this.$g()&&
(this.data=parseFloat(this.data)),this.type=V.de)};n.prototype.T=function(c){this.type=V.ee;this.data=Math.floor(c)};n.prototype.u=function(c){this.type=V.de;this.data=c};n.prototype.wb=function(c){this.type=V.String;this.data=c};n.prototype.Uq=function(c){I(c)?(this.type=V.de,this.data=c):K(c)?(this.type=V.String,this.data=c.toString()):(this.type=V.ee,this.data=0)};Fb=n;V={ee:0,de:1,String:2}})();function X(e){this.b=e;this.jb=[]}
X.prototype.ub=function(){var e={},n,c,k,r,a,b,d,t;e.waits=[];var f=e.waits,h;n=0;for(c=this.jb.length;n<c;n++){b=this.jb[n];h={t:b.time,st:b.Vq,s:b.Om,ev:b.ff.J,sm:[],sols:{}};b.ff.Sb[b.zb]&&(h.act=b.ff.Sb[b.zb].J);k=0;for(r=b.ha.length;k<r;k++)h.sm.push(b.ha[k].J);for(a in b.hb)if(b.hb.hasOwnProperty(a)){d=this.b.n[parseInt(a,10)];t={sa:b.hb[a].Fm,insts:[]};k=0;for(r=b.hb[a].Ld.length;k<r;k++)t.insts.push(b.hb[a].Ld[k].uid);h.sols[d.J.toString()]=t}f.push(h)}return e};
X.prototype.fc=function(e){e=e.waits;var n,c,k,r,a,b,d,t,f,h,q;n=this.jb.length=0;for(c=e.length;n<c;n++)if(b=e[n],t=this.b.xk[b.ev.toString()]){f=-1;k=0;for(r=t.Sb.length;k<r;k++)if(t.Sb[k].J===b.act){f=k;break}if(-1!==f){d={hb:{},ha:[],Jk:!1};d.time=b.t;d.Vq=b.st||"";d.Om=!!b.s;d.ff=t;d.zb=f;k=0;for(r=b.sm.length;k<r;k++)(t=this.b.Sg(b.sm[k]))&&d.ha.push(t);for(a in b.sols)if(b.sols.hasOwnProperty(a)&&(t=this.b.Sg(parseInt(a,10)))){f=b.sols[a];h={Fm:f.sa,Ld:[]};k=0;for(r=f.insts.length;k<r;k++)(q=
this.b.of(f.insts[k]))&&h.Ld.push(q);d.hb[t.index.toString()]=h}this.jb.push(d)}}};
(function(){function e(){}function n(){}var c=X.prototype;e.prototype.fk=function(){return!0};e.prototype.Sn=function(){return!0};e.prototype.un=function(){var a=this.b.bb();return a.ni?!1:!a.Rd};e.prototype.gk=function(){return!0};e.prototype.Gn=function(){return!0};e.prototype.Xh=function(){return!0};e.prototype.Tn=function(){return!0};e.prototype.Wh=function(){return!0};e.prototype.qn=function(a,b,c){return Ca(Q(a),Q(c))<=Q(b)};e.prototype.wn=function(a,b){return R(Q(a),Q(b))};e.prototype.vn=function(a,
b,c){a=ya(a);b=ya(b);c=ya(c);return R(c,b)?R(a,b)&&!R(a,c):!(!R(a,b)&&R(a,c))};c.j=new e;var k=[],r=[];c.Ab=new function(){};n.prototype["int"]=function(a,b){K(b)?(a.T(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.T(b)};n.prototype["float"]=function(a,b){K(b)?(a.u(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.u(b)};n.prototype.random=function(a,b,c){void 0===c?a.u(Math.random()*b):a.u(Math.random()*(c-b)+b)};n.prototype.sqrt=function(a,b){a.u(Math.sqrt(b))};n.prototype.abs=function(a,b){a.u(Math.abs(b))};
n.prototype.round=function(a,b){a.T(Math.round(b))};n.prototype.floor=function(a,b){a.T(Math.floor(b))};n.prototype.ceil=function(a,b){a.T(Math.ceil(b))};n.prototype.sin=function(a,b){a.u(Math.sin(Q(b)))};n.prototype.cos=function(a,b){a.u(Math.cos(Q(b)))};n.prototype.tan=function(a,b){a.u(Math.tan(Q(b)))};n.prototype.asin=function(a,b){a.u(ua(Math.asin(b)))};n.prototype.acos=function(a,b){a.u(ua(Math.acos(b)))};n.prototype.atan=function(a,b){a.u(ua(Math.atan(b)))};n.prototype.exp=function(a,b){a.u(Math.exp(b))};
n.prototype.log10=function(a,b){a.u(Math.log(b)/Math.LN10)};n.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,e,f;c=2;for(e=arguments.length;c<e;c++)f=arguments[c],"number"===typeof f&&b<f&&(b=f);a.u(b)};n.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,e,f;c=2;for(e=arguments.length;c<e;c++)f=arguments[c],"number"===typeof f&&b>f&&(b=f);a.u(b)};n.prototype.me=function(a){a.u(this.b.me)};n.prototype.kg=function(a){a.u(this.b.kg)};n.prototype.time=
function(a){a.u(this.b.ye.Na)};n.prototype.ig=function(a){a.T(this.b.ig)};n.prototype.rh=function(a){a.T(this.b.rh)};n.prototype.wi=function(a){a.T(this.b.wi)};n.prototype.i=function(a,b,c,e,f){a.u(ua(Ba(b,c,e,f)))};n.prototype.find=function(a,b,c){K(b)&&K(c)?a.T(b.search(new RegExp(Ma(c),"i"))):a.T(-1)};n.prototype.left=function(a,b,c){a.wb(K(b)?b.substr(0,c):"")};n.prototype.right=function(a,b,c){a.wb(K(b)?b.substr(b.length-c):"")};n.prototype.replace=function(a,b,c,e){K(b)&&K(c)&&K(e)?a.wb(b.replace(new RegExp(Ma(c),
"gi"),e)):a.wb(K(b)?b:"")};n.prototype.trim=function(a,b){a.wb(K(b)?b.trim():"")};n.prototype.qo=function(a){var b=N(Math.random()*(arguments.length-1));a.Uq(arguments[b+1])};n.prototype.hi=function(a){a.u(this.b.hi/1E3)};n.prototype.jh=function(a){a.u(this.b.jh)};c.Xb=new n;c.Mq=function(){var a,b,c,e,f,h,n=this.b.bb();a=0;for(c=this.jb.length;a<c;a++){e=this.jb[a];if(-1===e.time){if(!e.Om)continue}else if(e.time>this.b.ye.Na)continue;n.Wb=e.ff;n.zb=e.zb;n.Va=0;for(b in e.hb)e.hb.hasOwnProperty(b)&&
(f=this.b.n[parseInt(b,10)].W(),h=e.hb[b],f.aa=h.Fm,qa(f.d,h.Ld),f=h,f.Ld.length=0,r.push(f));e.ff.Lq();this.b.gi(e.ha);e.Jk=!0}b=a=0;for(c=this.jb.length;a<c;a++)e=this.jb[a],this.jb[b]=e,e.Jk?(Ha(e.hb),e.ha.length=0,k.push(e)):b++;this.jb.length=b}})();
(function(){Wa=function(e,c){var k=e[1],r=e[3],a=e[4],b=e[5],d=e[6],t=e[7],f=e[8];c.j||(c.j={});c.Ab||(c.Ab={});c.Xb||(c.Xb={});var h=c.j,q=c.Ab,u=c.Xb;r&&(h.ur=function(a,b){return Gb(this.x,a,b)},h.wr=function(a,b){return Gb(this.y,a,b)},h.Er=function(){var a=this.e;this.ia();var b=this.la;return!(b.right<a.Ha||b.bottom<a.Ia||b.left>a.Ta||b.top>a.Sa)},h.Fr=function(){this.ia();var a=this.la,b=this.b.Y;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},h.Rr=function(a,b,c){var d=this.W(),
f=d.Zb();if(!f.length)return!1;var e=f[0],h=e,g=Ea(e.x,e.y,b,c),k,n,q;k=1;for(n=f.length;k<n;k++)if(e=f[k],q=Ea(e.x,e.y,b,c),0===a&&q<g||1===a&&q>g)g=q,h=e;d.Vf(h);return!0},q.ps=function(a){this.x!==a&&(this.x=a,this.r())},q.qs=function(a){this.y!==a&&(this.y=a,this.r())},q.gs=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.r()},q.hs=function(a,b){var c=a.Ap(this);if(c){var d;c.Gi?(d=c.Gi(b,!0),c=c.Gi(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.r()}},q.Kr=
function(a){0!==a&&(this.x+=Math.cos(this.i)*a,this.y+=Math.sin(this.i)*a,this.r())},q.Jr=function(a,b){0!==b&&(this.x+=Math.cos(Q(a))*b,this.y+=Math.sin(Q(a))*b,this.r())},u.$n=function(a){a.u(this.x)},u.ao=function(a){a.u(this.y)},u.me=function(a){a.u(this.b.Di(this))});a&&(h.tr=function(a,b){return Gb(this.width,a,b)},h.qr=function(a,b){return Gb(this.height,a,b)},q.os=function(a){this.width!==a&&(this.width=a,this.r())},q.cs=function(a){this.height!==a&&(this.height=a,this.r())},q.ks=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.r()},u.us=function(a){a.u(this.width)},u.Ar=function(a){a.u(this.height)},u.mr=function(a){this.ia();a.u(this.la.left)},u.or=function(a){this.ia();a.u(this.la.top)},u.nr=function(a){this.ia();a.u(this.la.right)},u.lr=function(a){this.ia();a.u(this.la.bottom)});b&&(h.qn=function(a,b){return Ca(this.i,Q(b))<=Q(a)},h.wn=function(a){return R(this.i,Q(a))},h.vn=function(a,b){var c=ya(a),d=ya(b),f=wa(this.i);return R(d,c)?R(f,c)&&!R(f,
d):!(!R(f,c)&&R(f,d))},q.Zr=function(a){a=Q(va(a));isNaN(a)||this.i===a||(this.i=a,this.r())},q.Vr=function(a){0===a||isNaN(a)||(this.i+=Q(a),this.i=wa(this.i),this.r())},q.Wr=function(a){0===a||isNaN(a)||(this.i-=Q(a),this.i=wa(this.i),this.r())},q.Xr=function(a,b){var c=Da(this.i,Q(b),Q(a));isNaN(c)||this.i===c||(this.i=c,this.r())},q.Yr=function(a,b,c){a=Da(this.i,Math.atan2(c-this.y,b-this.x),Q(a));isNaN(a)||this.i===a||(this.i=a,this.r())},q.ls=function(a,b){var c=Math.atan2(b-this.y,a-this.x);
isNaN(c)||this.i===c||(this.i=c,this.r())},u.kr=function(a){a.u(xa(this.i))});k||(h.rr=function(a,b,c){return Gb(this.ma[a],b,c)},h.Cr=function(a){return this.ma[a]},h.Sr=function(a,b){var c=this.W(),d=c.Zb();if(!d.length)return!1;var f=d[0],e=f,h=f.ma[b],g,k,n;g=1;for(k=d.length;g<k;g++)if(f=d[g],n=f.ma[b],0===a&&n<h||1===a&&n>h)h=n,e=f;c.Vf(e);return!0},h.Qr=function(a){var b,c,d,f,e;if(this.b.up().Si){e=this.W();if(e.aa)for(e.aa=!1,e.d.length=0,e.N.length=0,d=this.d,b=0,c=d.length;b<c;b++)f=d[b],
f.uid===a?e.N.push(f):e.d.push(f);else{d=b=0;for(c=e.d.length;b<c;b++)f=e.d[b],e.d[d]=f,f.uid===a?e.N.push(f):d++;e.d.length=d}this.Bc();return!!e.d.length}f=this.b.of(a);if(!f)return!1;e=this.W();if(!e.aa&&-1===e.d.indexOf(f))return!1;if(this.K)for(a=f.type.Z,b=0,c=a.length;b<c;b++){if(a[b]===this)return e.Vf(f),this.Bc(),!0}else if(f.type===this)return e.Vf(f),this.Bc(),!0;return!1},h.Hn=function(){return!0},h.In=function(){return!0},q.ds=function(a,b){var c=this.ma;I(c[a])?c[a]=I(b)?b:parseFloat(b):
K(c[a])&&(c[a]=K(b)?b:b.toString())},q.jr=function(a,b){var c=this.ma;I(c[a])?c[a]=I(b)?c[a]+b:c[a]+parseFloat(b):K(c[a])&&(c[a]=K(b)?c[a]+b:c[a]+b.toString())},q.rs=function(a,b){var c=this.ma;I(c[a])&&(c[a]=I(b)?c[a]-b:c[a]-parseFloat(b))},q.$r=function(a,b){this.ma[a]=b?1:0},q.ss=function(a){this.ma[a]=1-this.ma[a]},q.yr=function(){this.b.be(this)},q.Bn||(q.Bn=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.ih(this,b,!0);this.zc&&this.zc();if(this.F)for(a=0,b=this.F.length;a<b;++a)c=
this.F[a],c.zc&&c.zc()}),u.xr=function(a){var b=a.Fe.d.length,c,d,f;c=0;for(d=this.b.Vb.length;c<d;c++)f=this.b.Vb[c],a.Fe.K?0<=f.type.Z.indexOf(a.Fe)&&b++:f.type===a.Fe&&b++;a.T(b)},u.Ur=function(a){a.T(a.Fe.W().Zb().length)},u.ts=function(a){a.T(this.uid)},u.Br=function(a){a.T(this.qf())},u.rn||(u.rn=function(a){a.wb(JSON.stringify(this.b.Nj(this,!0)))}));d&&(h.Gr=function(){return this.visible},q.ns=function(a){!a!==!this.visible&&(this.visible=a,this.b.X=!0)},h.sr=function(a,b){return Gb(Sa(100*
this.opacity),a,b)},q.es=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.X=!0)},u.Opacity=function(a){a.u(Sa(100*this.opacity))});t&&(h.Dr=function(a){return a?this.e===a:!1},h.Tr=function(a){var b=this.W(),c=b.Zb();if(!c.length)return!1;var d=c[0],f=d,e,h;e=1;for(h=c.length;e<h;e++)if(d=c[e],0===a){if(d.e.index>f.e.index||d.e.index===f.e.index&&d.Gb()>f.Gb())f=d}else if(d.e.index<f.e.index||d.e.index===f.e.index&&d.Gb()<f.Gb())f=d;b.Vf(f);return!0},q.Nr=function(){var a=
this.Gb();a!==this.e.d.length-1&&(pa(this.e.d,a),this.e.d.push(this),this.b.X=!0,this.e.kb=!0)},q.Lr=function(){var a=this.Gb();0!==a&&(pa(this.e.d,a),this.e.d.unshift(this),this.b.X=!0,this.e.kb=!0)},q.Mr=function(a){a&&a!=this.e&&(pa(this.e.d,this.Gb()),this.e.kb=!0,this.e=a,this.ae=a.d.length,a.d.push(this),this.b.X=!0)},q.ws=function(a,b){var c=0===a;if(b){var d=b.Xk(this);if(d&&d.uid!==this.uid){this.e.index!==d.e.index&&(pa(this.e.d,this.Gb()),this.e.kb=!0,this.e=d.e,this.ae=d.e.d.length,d.e.d.push(this));
var f=this.Gb(),d=d.Gb();pa(this.e.d,f);f<d&&d--;c&&d++;d===this.e.d.length?this.e.d.push(this):this.e.d.splice(d,0,this);this.e.kb=!0;this.b.X=!0}}},u.Ir=function(a){a.T(this.e.$l)},u.Hr=function(a){a.wb(this.e.name)},u.vs=function(a){a.T(this.Gb())});f&&(q.as=function(a,b){if(this.b.A){var c=this.type.Fi(b);if(!(0>c)){var d=1===a;this.Yc[c]!==d&&(this.Yc[c]=d,this.Vc(),this.b.X=!0)}}},q.bs=function(a,b,c){if(this.b.A){var d=this.type.Fi(a);0>d||(a=this.type.B[d],d=this.ca[d],b=Math.floor(b),0>b||
b>=d.length||(1===this.b.A.Dp(a.Ea,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.mb&&(this.b.X=!0))))}})};ob=function(){this.di=this.ai=!0;this.type.sg=!0;this.b.X=!0;var e,c,k=this.bi;e=0;for(c=k.length;e<c;++e)k[e](this)};pb=function(e){e&&this.bi.push(e)};rb=function(){if(this.ai){var e=this.la,c=this.Cb;e.set(this.x,this.y,this.x+this.width,this.y+this.height);e.offset(-this.eb*this.width,-this.fb*this.height);this.i?(e.offset(-this.x,-this.y),c.Lm(e,this.i),c.offset(this.x,this.y),c.yk(e)):c.bg(e);e.normalize();
this.ai=!1}};var e=new ka(0,0,0,0);sb=function(){if(this.di&&this.Dc){this.ia();var n=this.type.Dg,c=this.Cg,k=this.la;e.set(n.qg(k.left),n.rg(k.top),n.qg(k.right),n.rg(k.bottom));c.Po(e)||(c.right<c.left?n.update(this,null,e):n.update(this,c,e),c.so(e),this.di=!1)}};qb=function(e,c){return this.la.Wa(e,c)&&this.Cb.Wa(e,c)?this.M&&!this.M.ue()?(this.M.je(this.width,this.height,this.i),this.M.Wa(e-this.x,c-this.y)):!0:!1};kb=function(){this.type.Th();return this.Jd};tb=function(){this.e.mn();return this.ae};
ub=function(){this.L.length=0;var e,c;e=0;for(c=this.Yc.length;e<c;e++)this.Yc[e]&&this.L.push(this.type.B[e]);this.on=!!this.L.length};lb=function(){return"Inst"+this.xm};Za=function(e){if(e&&e.cc&&e.type!=this){var c,k,r;c=0;for(k=e.siblings.length;c<k;c++)if(r=e.siblings[c],r.type==this)return r}e=this.W().Zb();return e.length?e[0]:null};$a=function(e){var c=this.W().Zb();return c.length?c[e.qf()%c.length]:null};Ya=function(){if(this.Oe&&!this.K){var e,c;e=0;for(c=this.d.length;e<c;e++)this.d[e].Jd=
e;var k=e,r=this.b.Vb;e=0;for(c=r.length;e<c;++e)r[e].type===this&&(r[e].Jd=k++);this.Oe=!1}};ib=function(e){if(e<this.d.length)return this.d[e];e-=this.d.length;var c=this.b.Vb,k,r;k=0;for(r=c.length;k<r;++k)if(c[k].type===this){if(0===e)return c[k];--e}return null};ab=function(){return this.sd[this.Hc]};bb=function(){this.Hc++;this.Hc===this.sd.length?this.sd.push(new Xa(this)):this.sd[this.Hc].aa=!0};cb=function(){this.Hc++;this.Hc===this.sd.length&&this.sd.push(new Xa(this));var e=this.sd[this.Hc],
c=this.sd[this.Hc-1];c.aa?e.aa=!0:(e.aa=!1,qa(e.d,c.d),qa(e.N,c.N))};db=function(){this.Hc--};eb=function(e){var c,k,r,a,b,d=0;if(!this.K)for(c=0,k=this.Z.length;c<k;c++)for(b=this.Z[c],r=0,a=b.ja.length;r<a;r++){if(e===b.ja[r].name)return this.U.lastBehIndex=d,b.ja[r];d++}c=0;for(k=this.ja.length;c<k;c++){if(e===this.ja[c].name)return this.U.lastBehIndex=d,this.ja[c];d++}return null};fb=function(e){return this.Qg(e)?this.U.lastBehIndex:-1};gb=function(e){var c,k;c=0;for(k=this.B.length;c<k;c++)if(this.B[c].name===
e)return c;return-1};hb=function(){if(this.cc&&!this.K){var e,c,k,r,a,b,d;this.Th();b=this.W();var t=b.aa,f=(e=this.b.bb())&&e.Wb&&e.Wb.tc;e=0;for(c=this.$a.length;e<c;e++)if(a=this.$a[e],a!==this&&(a.Th(),d=a.W(),d.aa=t,!t)){d.d.length=b.d.length;k=0;for(r=b.d.length;k<r;k++)d.d[k]=a.Yk(b.d[k].Jd);if(f)for(d.N.length=b.N.length,k=0,r=b.N.length;k<r;k++)d.N[k]=a.Yk(b.N[k].Jd)}}};jb=function(){return"Type"+this.J};Gb=function(e,c,k){if("undefined"===typeof e||"undefined"===typeof k)return!1;switch(c){case 0:return e===
k;case 1:return e!==k;case 2:return e<k;case 3:return e<=k;case 4:return e>k;case 5:return e>=k;default:return!1}}})();var Pb={};function Tb(e){this.b=e}
(function(){function e(){}var n=Tb.prototype;n.lb=function(c){this.Da=c;this.b=c.b};n.lb.prototype.ea=function(){};n.Oa=function(c){this.type=c;this.b=c.b;this.bh=Array(256);this.Uh=Array(256);this.vd=0};var c=n.Oa.prototype;c.ea=function(){var c=this;this.b.da||(jQuery(document).keydown(function(a){c.rj(a)}),jQuery(document).keyup(function(a){c.sj(a)}))};var k=[32,33,34,35,36,37,38,39,40,44];c.rj=function(c){var a=!1;window!=window.top&&-1<k.indexOf(c.which)&&(c.preventDefault(),a=!0,c.stopPropagation());
if(this.bh[c.which])this.Uh[c.which]&&!a&&c.preventDefault();else{this.bh[c.which]=!0;this.vd=c.which;this.b.Ib=!0;this.b.trigger(Tb.prototype.j.En,this);var b=this.b.trigger(Tb.prototype.j.On,this),d=this.b.trigger(Tb.prototype.j.Pn,this);this.b.Ib=!1;if(b||d)this.Uh[c.which]=!0,a||c.preventDefault()}};c.sj=function(c){this.bh[c.which]=!1;this.vd=c.which;this.b.Ib=!0;this.b.trigger(Tb.prototype.j.Fn,this);var a=this.b.trigger(Tb.prototype.j.Rn,this),b=this.b.trigger(Tb.prototype.j.Qn,this);this.b.Ib=
!1;if(a||b||this.Uh[c.which])this.Uh[c.which]=!0,c.preventDefault()};c.ub=function(){return{triggerKey:this.vd}};c.fc=function(c){this.vd=c.triggerKey};e.prototype.xn=function(c){return this.bh[c]};e.prototype.On=function(c){return c===this.vd};e.prototype.En=function(){return!0};e.prototype.Fn=function(){return!0};e.prototype.Rn=function(c){return c===this.vd};e.prototype.Pn=function(c){return c===this.vd};e.prototype.Qn=function(c){return c===this.vd};n.j=new e;n.Ab=new function(){};n.Xb=new function(){}})();
function Sb(e){this.b=e}
(function(){function e(){if(0===this.li.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Ne?b.drawImage(this.Ya,this.Ge,this.He,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Ya,0,0,this.width,this.height);this.li=a.toDataURL("image/png")}return this.li}function n(){}function c(){}var k=Sb.prototype;k.lb=function(a){this.Da=a;this.b=a.b};var r=k.lb.prototype;r.ea=function(){if(!this.K){var a,b,c,d,l,k,n,m,p;this.Tb=
[];this.sf=!1;a=0;for(b=this.Za.length;a<b;a++){l=this.Za[a];n={};n.name=l[0];n.speed=l[1];n.loop=l[2];n.Ij=l[3];n.yh=l[4];n.om=l[5];n.J=l[6];n.frames=[];c=0;for(d=l[7].length;c<d;c++)k=l[7][c],m={},m.Um=k[0],m.Vm=k[1],m.Ge=k[2],m.He=k[3],m.width=k[4],m.height=k[5],m.duration=k[6],m.eb=k[7],m.fb=k[8],m.Ni=k[9],m.uh=k[10],m.pm=k[11],m.Ne=0!==m.width,m.li="",m.Cs=e,p={left:0,top:0,right:1,bottom:1},m.Pj=p,m.Wc=null,(p=this.b.op(k[0]))?m.Ya=p:(m.Ya=new Image,m.Ya.uo=k[0],m.Ya.to=k[1],m.Ya.no=null,this.b.ir(m.Ya,
k[0])),n.frames.push(m),this.Tb.push(m);this.Za[a]=n}}};r.jn=function(){var a,b,c;a=0;for(b=this.d.length;a<b;a++)c=this.d[a],c.Gg=c.Db.Wc};r.fm=function(){if(!this.K){var a,b,c;a=0;for(b=this.Tb.length;a<b;++a)c=this.Tb[a],c.Ya.no=null,c.Wc=null;this.sf=!1;this.jn()}};r.im=function(){if(!this.K&&this.d.length){var a,b,c;a=0;for(b=this.Tb.length;a<b;++a)c=this.Tb[a],c.Wc=this.b.A.Cl(c.Ya,this.b.Q,c.pm);this.jn()}};r.qq=function(){if(!this.K&&!this.sf&&this.b.A){var a,b,c;a=0;for(b=this.Tb.length;a<
b;++a)c=this.Tb[a],c.Wc=this.b.A.Cl(c.Ya,this.b.Q,c.pm);this.sf=!0}};r.dn=function(){if(!this.K&&!this.d.length&&this.sf){var a,b,c;a=0;for(b=this.Tb.length;a<b;++a)c=this.Tb[a],this.b.A.deleteTexture(c.Wc),c.Wc=null;this.sf=!1}};var a=[];r.um=function(b){var c,d,e;c=a.length=0;for(d=this.Tb.length;c<d;++c)e=this.Tb[c].Ya,-1===a.indexOf(e)&&(b.drawImage(e,0,0),a.push(e))};k.Oa=function(a){this.type=a;this.b=a.b;a=this.type.Za[0].frames[0].uh;this.Nb?this.M.cg(a):this.M=new Na(a)};var b=k.Oa.prototype;
b.ea=function(){this.visible=0===this.na[0];this.Oi=this.Wi=!1;this.Dc=0!==this.na[3];1===this.type.Za.length&&1===this.type.Za[0].frames.length||0===this.type.Za[0].speed||(this.b.Wm(this),this.Wi=!0);this.ba=this.Uk(this.na[1])||this.type.Za[0];this.p=this.na[2];0>this.p&&(this.p=0);this.p>=this.ba.frames.length&&(this.p=this.ba.frames.length-1);var a=this.ba.frames[this.p];this.M.cg(a.uh);this.eb=a.eb;this.fb=a.fb;this.cf=this.ba.speed;this.Nb?this.oc.reset():this.oc=new La;this.Lc=this.oc.Na;
this.zd=!0;this.Ac=0;this.yd=!0;this.Bg=this.uk="";this.Ek=0;this.ei=-1;this.type.qq();var b,c,d,e,k,n,m,a=0;for(b=this.type.Za.length;a<b;a++)for(e=this.type.Za[a],c=0,d=e.frames.length;c<d;c++)k=e.frames[c],0===k.width&&(k.width=k.Ya.width,k.height=k.Ya.height),k.Ne&&(m=k.Ya,n=k.Pj,n.left=k.Ge/m.width,n.top=k.He/m.height,n.right=(k.Ge+k.width)/m.width,n.bottom=(k.He+k.height)/m.height,0===k.Ge&&0===k.He&&k.width===m.width&&k.height===m.height&&(k.Ne=!1));this.Db=this.ba.frames[this.p];this.Gg=this.Db.Wc};
b.ub=function(){var a={a:this.ba.J,f:this.p,cas:this.cf,fs:this.Lc,ar:this.Ac,at:this.oc.Na};this.zd||(a.ap=this.zd);this.yd||(a.af=this.yd);return a};b.fc=function(a){var b=this.rp(a.a);b&&(this.ba=b);this.p=a.f;0>this.p&&(this.p=0);this.p>=this.ba.frames.length&&(this.p=this.ba.frames.length-1);this.cf=a.cas;this.Lc=a.fs;this.Ac=a.ar;this.oc.reset();this.oc.Na=a.at;this.zd=a.hasOwnProperty("ap")?a.ap:!0;this.yd=a.hasOwnProperty("af")?a.af:!0;this.Db=this.ba.frames[this.p];this.Gg=this.Db.Wc;this.M.cg(this.Db.uh);
this.eb=this.Db.eb;this.fb=this.Db.fb};b.$h=function(a){this.p=a?0:this.ba.frames.length-1;this.zd=!1;this.uk=this.ba.name;this.Oi=!0;this.b.trigger(Sb.prototype.j.Dn,this);this.b.trigger(Sb.prototype.j.Cn,this);this.Oi=!1;this.Ac=0};b.Fs=function(){return this.oc.Na};b.Sc=function(){this.oc.add(this.b.Di(this));this.Bg.length&&this.Kk();0<=this.ei&&this.zo();var a=this.oc.Na,b=this.ba,c=b.frames[this.p],d=c.duration/this.cf;this.zd&&a>=this.Lc+d&&(this.yd?this.p++:this.p--,this.Lc+=d,this.p>=b.frames.length&&
(b.om?(this.yd=!1,this.p=b.frames.length-2):b.loop?this.p=b.yh:(this.Ac++,this.Ac>=b.Ij?this.$h(!1):this.p=b.yh)),0>this.p&&(b.om?(this.p=1,this.yd=!0,b.loop||(this.Ac++,this.Ac>=b.Ij&&this.$h(!0))):b.loop?this.p=b.yh:(this.Ac++,this.Ac>=b.Ij?this.$h(!0):this.p=b.yh)),0>this.p?this.p=0:this.p>=b.frames.length&&(this.p=b.frames.length-1),a>this.Lc+b.frames[this.p].duration/this.cf&&(this.Lc=a),a=b.frames[this.p],this.fe(c,a),this.b.X=!0)};b.Uk=function(a){var b,c,d;b=0;for(c=this.type.Za.length;b<
c;b++)if(d=this.type.Za[b],Ta(d.name,a))return d;return null};b.rp=function(a){var b,c,d;b=0;for(c=this.type.Za.length;b<c;b++)if(d=this.type.Za[b],d.J===a)return d;return null};b.Kk=function(){var a=this.ba.frames[this.p],b=this.Uk(this.Bg);this.Bg="";!b||Ta(b.name,this.ba.name)&&this.zd||(this.ba=b,this.cf=b.speed,0>this.p&&(this.p=0),this.p>=this.ba.frames.length&&(this.p=this.ba.frames.length-1),1===this.Ek&&(this.p=0),this.zd=!0,this.Lc=this.oc.Na,this.yd=!0,this.fe(a,this.ba.frames[this.p]),
this.b.X=!0)};b.zo=function(){var a=this.ba.frames[this.p],b=this.p;this.p=N(this.ei);0>this.p&&(this.p=0);this.p>=this.ba.frames.length&&(this.p=this.ba.frames.length-1);b!==this.p&&(this.fe(a,this.ba.frames[this.p]),this.Lc=this.oc.Na,this.b.X=!0);this.ei=-1};b.fe=function(a,b){var c=a.width,d=a.height,e=b.width,k=b.height;c!=e&&(this.width*=e/c);d!=k&&(this.height*=k/d);this.eb=b.eb;this.fb=b.fb;this.M.cg(b.uh);this.r();this.Db=b;this.Gg=b.Wc;c=0;for(d=this.F.length;c<d;c++)e=this.F[c],e.Aq&&e.Aq(a,
b);this.b.trigger(Sb.prototype.j.fe,this)};b.Ed=function(a){a.globalAlpha=this.opacity;var b=this.Db,c=b.Ne,d=b.Ya,e=this.x,k=this.y,n=this.width,m=this.height;if(0===this.i&&0<=n&&0<=m)e-=this.eb*n,k-=this.fb*m,this.b.Ie&&(e=Math.round(e),k=Math.round(k)),c?a.drawImage(d,b.Ge,b.He,b.width,b.height,e,k,n,m):a.drawImage(d,e,k,n,m);else{this.b.Ie&&(e=Math.round(e),k=Math.round(k));a.save();var p=0<n?1:-1,r=0<m?1:-1;a.translate(e,k);1===p&&1===r||a.scale(p,r);a.rotate(this.i*p*r);e=0-this.eb*M(n);k=
0-this.fb*M(m);c?a.drawImage(d,b.Ge,b.He,b.width,b.height,e,k,M(n),M(m)):a.drawImage(d,e,k,M(n),M(m));a.restore()}};b.qc=function(a){a.Ob(this.Gg);a.ag(this.opacity);var b=this.Db,c=this.Cb;if(this.b.Ie){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.Ne?a.Wd(c.Fa+d,c.Ga+e,c.xb+d,c.yb+e,c.qb+d,c.rb+e,c.ob+d,c.pb+e,b.Pj):a.wh(c.Fa+d,c.Ga+e,c.xb+d,c.yb+e,c.qb+d,c.rb+e,c.ob+d,c.pb+e)}else b.Ne?a.Wd(c.Fa,c.Ga,c.xb,c.yb,c.qb,c.rb,c.ob,c.pb,b.Pj):a.wh(c.Fa,c.Ga,c.xb,c.yb,c.qb,c.rb,c.ob,c.pb)};
b.wp=function(a){var b=this.Db,c,d;c=0;for(d=b.Ni.length;c<d;c++)if(Ta(a,b.Ni[c][0]))return c;return-1};b.Gi=function(a,b){var c=this.Db,d=c.Ni,e;e=K(a)?this.wp(a):a-1;e=N(e);if(0>e||e>=d.length)return b?this.x:this.y;var k=(d[e][1]-c.eb)*this.width,d=d[e][2],d=(d-c.fb)*this.height,c=Math.cos(this.i);e=Math.sin(this.i);var n=k*c-d*e,d=d*c+k*e,k=n+this.x,d=d+this.y;return b?k:d};var d=new F,t=!1;r.finish=function(a){if(t){if(a){var b=this.b.bb().Wb.tc;a=null.W();var c=d.xd(),e,k;if(a.aa){a.aa=!1;a.d.length=
c.length;e=0;for(k=c.length;e<k;e++)a.d[e]=c[e];if(b)for(e=a.N.length=0,k=null.d.length;e<k;e++)c=null.d[e],d.contains(c)||a.N.push(c)}else if(b)for(b=a.d.length,a.d.length=b+c.length,e=0,k=c.length;e<k;e++)a.d[b+e]=c[e],ta(a.N,c[e]);else qa(a.d,c);null.Bc()}d.clear();t=!1}};n.prototype.Cn=function(a){return Ta(this.uk,a)};n.prototype.Dn=function(){return!0};n.prototype.fe=function(){return!0};k.j=new n;c.prototype.Xn=function(a,b){this.Bg=a;this.Ek=b;this.Wi||(this.b.Wm(this),this.Wi=!0);this.Oi||
this.Kk()};c.prototype.Yn=function(a){a=M(this.width)*(0===a?-1:1);this.width!==a&&(this.width=a,this.r())};k.Ab=new c;k.Xb=new function(){}})();function Y(e){this.b=e}
(function(){function e(a){f=a.x;h=a.y;q=a.z}function n(a){u=a.x;l=a.y;v=a.z}function c(a,b,c,d){var e;e=w.length?w.pop():new k;e.init(a,b,c,d);return e}function k(){this.fg=this.id=this.y=this.x=this.Hh=this.Gh=this.bj=this.time=this.Rj=0;this.lg=this.Rh=!1}function r(){}function a(){}var b=Y.prototype;b.lb=function(a){this.Da=a;this.b=a.b};b.lb.prototype.ea=function(){};b.Oa=function(a){this.type=a;this.b=a.b;this.touches=[];this.mj=!1};var d=b.Oa.prototype,t={left:0,top:0};d.kf=function(a){var b,
c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var f=0,h=0,q=0,u=0,l=0,v=0,w=[];k.prototype.init=function(a,b,c,d){var e=S();this.Rj=this.bj=this.time=e;this.Gh=a;this.Hh=b;this.x=a;this.y=b;this.id=c;this.fg=d;this.lg=this.Rh=!1};k.prototype.update=function(a,b,c){this.bj=this.time;this.time=a;this.x=b;this.y=c;!this.lg&&15<=Ea(this.Gh,this.Hh,this.x,this.y)&&(this.lg=!0)};k.prototype.sq=function(a,b){!this.Rh&&500<=S()-this.Rj&&!this.lg&&15>Ea(this.Gh,this.Hh,
this.x,this.y)&&(this.Rh=!0,a.xc=this.fg,a.Pe=this.id,a.qe=b,a.b.trigger(Y.prototype.j.Mn,a),a.Fc=this.x,a.Gc=this.y,a.b.trigger(Y.prototype.j.Nn,a),a.qe=0)};var m=-1E3,p=-1E3,x=-1E4;k.prototype.Ul=function(a,b){if(!this.Rh){var c=S();333>=c-this.Rj&&!this.lg&&15>Ea(this.Gh,this.Hh,this.x,this.y)&&(a.xc=this.fg,a.Pe=this.id,a.qe=b,666>=c-x&&25>Ea(m,p,this.x,this.y)?(a.b.trigger(Y.prototype.j.Jn,a),a.Fc=this.x,a.Gc=this.y,a.b.trigger(Y.prototype.j.Kn,a),p=m=-1E3,x=-1E4):(a.b.trigger(Y.prototype.j.Un,
a),a.Fc=this.x,a.Gc=this.y,a.b.trigger(Y.prototype.j.Vn,a),m=this.x,p=this.y,x=c),a.qe=0)}};d.ea=function(){this.jq=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.qe=this.Pe=this.xc=this.Gc=this.Fc=this.qk=this.pk=this.ok=this.eo=this.co=this.bo=this.Uf=this.Tf=this.Sf=0;this.gr=0!==this.na[0];var a=0<this.b.ab?document:this.b.canvas,b=document;this.b.Oc?b=a=window.Canvas:this.b.Hb&&(b=a=window);var c=this;window.navigator.pointerEnabled?(a.addEventListener("pointerdown",function(a){c.hm(a)},
!1),a.addEventListener("pointermove",function(a){c.gm(a)},!1),b.addEventListener("pointerup",function(a){c.sh(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.sh(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},
!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.hm(a)},!1),a.addEventListener("MSPointerMove",function(a){c.gm(a)},!1),b.addEventListener("MSPointerUp",function(a){c.sh(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.sh(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.km(a)},
!1),a.addEventListener("touchmove",function(a){c.jm(a)},!1),b.addEventListener("touchend",function(a){c.uj(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.uj(a,!0)},!1));if(this.jq){var d=function(a){a=a.reading;c.ok=a.accelerationX;c.pk=a.accelerationY;c.qk=a.accelerationZ},f=function(a){a=a.reading;c.Sf=a.yawDegrees;c.Tf=a.pitchDegrees;c.Uf=a.rollDegrees},k=Windows.Devices.Sensors.Accelerometer.getDefault();k&&(k.reportInterval=Math.max(k.minimumReportInterval,16),k.addEventListener("readingchanged",
d));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(k&&k.removeEventListener("readingchanged",d),h&&h.removeEventListener("readingchanged",f)):(k&&k.addEventListener("readingchanged",d),h&&h.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",function(a){c.Sf=a.alpha||
0;c.Tf=a.beta||0;c.Uf=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.bo=a.accelerationIncludingGravity.x||0,c.co=a.accelerationIncludingGravity.y||0,c.eo=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.ok=a.acceleration.x||0,c.pk=a.acceleration.y||0,c.qk=a.acceleration.z||0)},!1);this.gr&&!this.b.da&&(jQuery(document).mousemove(function(a){c.yq(a)}),jQuery(document).mousedown(function(a){c.xq(a)}),jQuery(document).mouseup(function(a){c.zq(a)}));
this.b.wf&&!this.b.Oc&&AppMobi.accelerometer.watchAcceleration(e,{frequency:40,adjustForRotation:!0});this.b.ac&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(n,null,{frequency:40});this.b.Zq(this)};d.gm=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.kf(a.pointerId),c=S();if(0<=b){var d=this.b.da?t:jQuery(this.b.canvas).offset(),b=this.touches[b];2>c-b.time||
b.update(c,a.pageX-d.left,a.pageY-d.top)}}};d.hm=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Ua(a)&&a.preventDefault();var b=this.b.da?t:jQuery(this.b.canvas).offset(),d=a.pageX-b.left,b=a.pageY-b.top;S();this.xc=this.touches.length;this.Pe=a.pointerId;this.touches.push(c(d,b,a.pointerId,this.xc));this.b.Ib=!0;this.b.trigger(Y.prototype.j.jk,this);this.b.trigger(Y.prototype.j.nk,this);this.Fc=d;this.Gc=b;this.b.trigger(Y.prototype.j.mk,this);this.b.Ib=
!1}};d.sh=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Ua(a)&&a.preventDefault();var c=this.kf(a.pointerId);this.xc=0<=c?this.touches[c].fg:-1;this.Pe=0<=c?this.touches[c].id:-1;this.b.Ib=!0;this.b.trigger(Y.prototype.j.ik,this);this.b.trigger(Y.prototype.j.lk,this);0<=c&&(b||this.touches[c].Ul(this,c),100>w.length&&w.push(this.touches[c]),this.touches.splice(c,1));this.b.Ib=!1}};d.jm=function(a){a.preventDefault&&a.preventDefault();var b=S(),
c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.kf(e.identifier),0<=f){var k=this.b.da?t:jQuery(this.b.canvas).offset();f=this.touches[f];2>b-f.time||f.update(b,e.pageX-k.left,e.pageY-k.top)}};d.km=function(a){a.preventDefault&&Ua(a)&&a.preventDefault();var b=this.b.da?t:jQuery(this.b.canvas).offset();S();this.b.Ib=!0;var d,e,f,k;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=a.changedTouches[d],k=this.kf(f.identifier),-1===k){k=f.pageX-b.left;var h=f.pageY-b.top;
this.xc=this.touches.length;this.Pe=f.identifier;this.touches.push(c(k,h,f.identifier,this.xc));this.b.trigger(Y.prototype.j.jk,this);this.b.trigger(Y.prototype.j.nk,this);this.Fc=k;this.Gc=h;this.b.trigger(Y.prototype.j.mk,this)}this.b.Ib=!1};d.uj=function(a,b){a.preventDefault&&Ua(a)&&a.preventDefault();this.b.Ib=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.kf(e.identifier),0<=e&&(this.xc=this.touches[e].fg,this.Pe=this.touches[e].id,this.b.trigger(Y.prototype.j.ik,
this),this.b.trigger(Y.prototype.j.lk,this),b||this.touches[e].Ul(this,e),100>w.length&&w.push(this.touches[e]),this.touches.splice(e,1));this.b.Ib=!1};d.zs=function(){return this.b.wf&&0===this.Sf&&0!==q?90*q:this.b.ac&&0===this.Sf&&0!==v?90*v:this.Sf};d.As=function(){return this.b.wf&&0===this.Tf&&0!==h?-90*h:this.b.ac&&0===this.Tf&&0!==l?-90*l:this.Tf};d.Es=function(){return this.b.wf&&0===this.Uf&&0!==f?90*f:this.b.ac&&0===this.Uf&&0!==u?90*u:this.Uf};d.xq=function(a){a.preventDefault&&this.b.Ji&&
!this.b.fd&&a.preventDefault();this.km({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.mj=!0};d.yq=function(a){this.mj&&this.jm({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};d.zq=function(a){a.preventDefault&&this.b.Ji&&!this.b.fd&&a.preventDefault();this.b.Ji=!0;this.uj({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.mj=!1};d.Nh=function(){var a,b,c,d=S();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.bj=d),c.sq(this,
a)};r.prototype.nk=function(){return!0};r.prototype.lk=function(){return!0};r.prototype.mk=function(a){return a?this.b.Kh(a,this.Fc,this.Gc):!1};var z=[];r.prototype.zn=function(a){if(!a)return!1;var b=a.W(),c=b.Zb(),d,e,f,k,h,l;f=0;for(k=c.length;f<k;f++){var m=c[f];m.ia();h=0;for(l=this.touches.length;h<l;h++)if(e=this.touches[h],d=m.e.Pa(e.x,e.y,!0),e=m.e.Pa(e.x,e.y,!1),m.Wa(d,e)){z.push(m);break}}return z.length?(b.aa=!1,qa(b.d,z),a.Bc(),z.length=0,!0):!1};r.prototype.jk=function(a){a=Math.floor(a);
return a===this.xc};r.prototype.ik=function(a){a=Math.floor(a);return a===this.xc};r.prototype.Mn=function(){return!0};r.prototype.Un=function(){return!0};r.prototype.Jn=function(){return!0};r.prototype.Nn=function(a){return a?this.b.Kh(a,this.Fc,this.Gc):!1};r.prototype.Vn=function(a){return a?this.b.Kh(a,this.Fc,this.Gc):!1};r.prototype.Kn=function(a){return a?this.b.Kh(a,this.Fc,this.Gc):!1};b.j=new r;a.prototype.$n=function(a,b){var c=this.qe;if(0>c||c>=this.touches.length)a.u(0);else{var d,e,
f,k,h;ca(b)?(d=this.b.nf(0),e=d.scale,f=d.nc,k=d.Lb,h=d.i,d.scale=1,d.nc=1,d.Lb=1,d.i=0,a.u(d.Pa(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.nc=f,d.Lb=k,d.i=h):(d=I(b)?this.b.nf(b):this.b.Hi(b))?a.u(d.Pa(this.touches[c].x,this.touches[c].y,!0)):a.u(0)}};a.prototype.ao=function(a,b){var c=this.qe;if(0>c||c>=this.touches.length)a.u(0);else{var d,e,f,k,h;ca(b)?(d=this.b.nf(0),e=d.scale,f=d.nc,k=d.Mb,h=d.i,d.scale=1,d.nc=1,d.Mb=1,d.i=0,a.u(d.Pa(this.touches[c].x,this.touches[c].y,!1)),d.scale=
e,d.nc=f,d.Mb=k,d.i=h):(d=I(b)?this.b.nf(b):this.b.Hi(b))?a.u(d.Pa(this.touches[c].x,this.touches[c].y,!1)):a.u(0)}};b.Xb=new a})();function Ub(e){this.b=e}
(function(){function e(){}var n=Ub.prototype;n.lb=function(c){this.behavior=c;this.b=c.b};n.lb.prototype.ea=function(){};n.Oa=function(c,e){this.type=c;this.behavior=c.behavior;this.c=e;this.b=c.b};var c=n.Oa.prototype;c.ea=function(){this.za=null;this.th=-1;this.mode=this.ze=this.Lh=this.Ee=this.Rc=this.Wf=0;var c=this;this.Nb||(this.Nf=function(e){c.qj(e)});this.b.sk(this.Nf)};c.ub=function(){return{uid:this.za?this.za.uid:-1,pa:this.Wf,pd:this.Rc,msa:this.Ee,tsa:this.Lh,lka:this.ze,m:this.mode}};
c.fc=function(c){this.th=c.uid;this.Wf=c.pa;this.Rc=c.pd;this.Ee=c.msa;this.Lh=c.tsa;this.ze=c.lka;this.mode=c.m};c.zc=function(){this.za=-1===this.th?null:this.b.of(this.th);this.th=-1};c.qj=function(c){this.za==c&&(this.za=null)};c.Rf=function(){this.za=null;this.b.Bm(this.Nf)};c.Sc=function(){};c.Nh=function(){if(this.za){this.ze!==this.c.i&&(this.Ee=wa(this.Ee+(this.c.i-this.ze)));var c=this.c.x,e=this.c.y;if(3===this.mode||4===this.mode){var a=Ea(this.c.x,this.c.y,this.za.x,this.za.y);if(a>this.Rc||
4===this.mode&&a<this.Rc)e=Ba(this.za.x,this.za.y,this.c.x,this.c.y),c=this.za.x+Math.cos(e)*this.Rc,e=this.za.y+Math.sin(e)*this.Rc}else c=this.za.x+Math.cos(this.za.i+this.Wf)*this.Rc,e=this.za.y+Math.sin(this.za.i+this.Wf)*this.Rc;this.ze=a=wa(this.Ee+(this.za.i-this.Lh));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.c.x===c&&this.c.y===e||(this.c.x=c,this.c.y=e,this.c.r());0!==this.mode&&2!==this.mode||this.c.i===a||(this.c.i=a,this.c.r())}};n.j=new function(){};e.prototype.Wn=
function(c,e){if(c){var a=c.Xk(this.c);a&&(this.za=a,this.Wf=Ba(a.x,a.y,this.c.x,this.c.y)-a.i,this.Rc=Ea(a.x,a.y,this.c.x,this.c.y),this.ze=this.Ee=this.c.i,this.Lh=a.i,this.mode=e)}};n.Ab=new e;n.Xb=new function(){}})();function Z(e){this.b=e}
(function(){function e(){}function n(){}var c=Z.prototype;c.lb=function(c){this.behavior=c;this.b=c.b};c.lb.prototype.ea=function(){};c.Oa=function(c,a){this.type=c;this.behavior=c.behavior;this.c=a;this.b=c.b;this.eg=this.Ch=this.Bh=this.Mi=this.$e=this.ef=this.xe=this.Bf=this.zh=this.gh=!1;this.sb=null;this.ej=-1;this.Od=this.Nd=0;this.Og=!1;this.ne=this.Ub=0;this.Ng=!0;this.O=this.C=0};var k=c.Oa.prototype;k.ln=function(){this.ua=Math.cos(this.pe);this.va=Math.sin(this.pe);this.Xd=Math.cos(this.pe-
Math.PI/2);this.Yd=Math.sin(this.pe-Math.PI/2);this.ua=Sa(this.ua);this.va=Sa(this.va);this.Xd=Sa(this.Xd);this.Yd=Sa(this.Yd);this.Ai=this.Mc;0>this.Mc&&(this.ua*=-1,this.va*=-1,this.Mc=Math.abs(this.Mc))};k.ea=function(){this.De=this.na[0];this.ge=this.na[1];this.le=this.na[2];this.Af=this.na[3];this.Ai=this.Mc=this.na[4];this.nh=this.na[5];this.oi=0!==this.na[6];this.Zi=this.na[7]/1E3;this.xo=1===this.na[8];this.enabled=0!==this.na[9];this.Ue=!1;this.pg=this.b.td(this.c);this.fj=-1;this.$d=0;this.pe=
Q(90);this.ln();var c=this;this.xo&&!this.b.da&&(jQuery(document).keydown(function(a){c.rj(a)}),jQuery(document).keyup(function(a){c.sj(a)}));this.Nb||(this.Nf=function(a){c.qj(a)});this.b.sk(this.Nf);this.c.U.isPlatformBehavior=!0};k.ub=function(){return{ii:this.Mi,lfx:this.Nd,lfy:this.Od,lfo:this.sb?this.sb.uid:-1,am:this.Ub,en:this.enabled,fall:this.ne,ft:this.Ng,dx:this.C,dy:this.O,ms:this.De,acc:this.ge,dec:this.le,js:this.Af,g:this.Mc,g1:this.Ai,mf:this.nh,wof:this.Ue,woj:this.pg?this.pg.uid:
-1,ga:this.pe,edj:this.oi,cdj:this.$e,dj:this.ef,sus:this.Zi}};k.fc=function(c){this.Mi=c.ii;this.Nd=c.lfx;this.Od=c.lfy;this.ej=c.lfo;this.Ub=c.am;this.enabled=c.en;this.ne=c.fall;this.Ng=c.ft;this.C=c.dx;this.O=c.dy;this.De=c.ms;this.ge=c.acc;this.le=c.dec;this.Af=c.js;this.Mc=c.g;this.Ai=c.g1;this.nh=c.mf;this.Ue=c.wof;this.fj=c.woj;this.pe=c.ga;this.oi=c.edj;this.$e=c.cdj;this.ef=c.dj;this.Zi=c.sus;this.eg=this.Ch=this.Bh=this.xe=this.Bf=this.zh=this.gh=!1;this.$d=0;this.ln()};k.zc=function(){this.sb=
-1===this.ej?null:this.b.of(this.ej);this.pg=-1===this.fj?null:this.b.of(this.fj)};k.qj=function(c){this.sb==c&&(this.sb=null)};k.Rf=function(){this.sb=null;this.b.Bm(this.Nf)};k.rj=function(c){switch(c.which){case 38:c.preventDefault();this.Bf=!0;break;case 37:c.preventDefault();this.gh=!0;break;case 39:c.preventDefault(),this.zh=!0}};k.sj=function(c){switch(c.which){case 38:c.preventDefault();this.xe=this.Bf=!1;break;case 37:c.preventDefault();this.gh=!1;break;case 39:c.preventDefault(),this.zh=
!1}};k.Ds=function(){return 0>this.Mc?-1:1};k.ml=function(){var c=null,a=null,b,d;b=this.c.x;d=this.c.y;this.c.x+=this.ua;this.c.y+=this.va;this.c.r();if(this.sb&&this.b.lc(this.c,this.sb))return this.c.x=b,this.c.y=d,this.c.r(),this.sb;(c=this.b.ib(this.c))||0!==this.ne||(a=this.b.td(this.c,!0));this.c.x=b;this.c.y=d;this.c.r();if(c){if(this.b.lc(this.c,c))return null;this.Og=!1;return c}if(a&&a.length){d=c=0;for(b=a.length;c<b;c++)a[d]=a[c],this.b.lc(this.c,a[c])||d++;if(1<=d)return this.Og=!0,
a[0]}return null};k.Sc=function(){};k.tm=function(){var c=this.b.Di(this.c),a,b,d,e,f,h,k,n,l;this.Bf||this.eg||(this.xe=!1);var v=this.gh||this.Bh;d=this.zh||this.Ch;var w=(e=this.Bf||this.eg)&&!this.xe;this.eg=this.Ch=this.Bh=!1;if(this.enabled){this.Mi&&(w=e=d=v=!1);e||(this.$d=0);n=this.sb;l=!1;this.Ng&&((this.b.ib(this.c)||this.b.td(this.c))&&this.b.ic(this.c,-this.ua,-this.va,4,!0),this.Ng=!1);!n||0!==this.O||n.y===this.Od&&n.x===this.Nd||(a=n.x-this.Nd,b=n.y-this.Od,this.c.x+=a,this.c.y+=b,
this.c.r(),this.Nd=n.x,this.Od=n.y,l=!0,this.b.ib(this.c)&&this.b.ic(this.c,-a,-b,2.5*Math.sqrt(a*a+b*b)));var m=this.ml();if(b=this.b.ib(this.c))if(this.c.U.inputPredicted)this.b.ic(this.c,-this.ua,-this.va,10,!1);else if(this.b.Jq(this.c,Math.max(this.c.width,this.c.height)/2))this.b.Zf(this.c,b);else return;m?(this.$e=this.ef=!1,0<this.O&&(this.Ue||(this.b.Dj(this.c,-this.ua,-this.va,m),this.Ue=!0),this.O=0),n!=m)?(this.sb=m,this.Nd=m.x,this.Od=m.y,this.b.Zf(this.c,m)):l&&(b=this.b.ib(this.c))&&
(this.b.Zf(this.c,b),0!==a&&(0<a?this.b.ic(this.c,-this.Xd,-this.Yd):this.b.ic(this.c,this.Xd,this.Yd)),this.b.ic(this.c,-this.ua,-this.va)):e||(this.$e=!0);if(m&&w||!m&&this.oi&&e&&this.$e&&!this.ef)n=this.c.x,l=this.c.y,this.c.x-=this.ua,this.c.y-=this.va,this.c.r(),this.b.ib(this.c)?w=!1:(this.$d=this.Zi,this.b.trigger(Z.prototype.j.dk,this.c),this.Ub=2,this.O=-this.Af,w=!0,m?this.xe=!0:this.ef=!0),this.c.x=n,this.c.y=l,this.c.r();m||(e&&0<this.$d?(this.O=-this.Af,this.$d-=c):(this.sb=null,this.O+=
this.Mc*c,this.O>this.nh&&(this.O=this.nh)),w&&(this.xe=!0));this.Ue=!!m;v==d&&(0>this.C?(this.C+=this.le*c,0<this.C&&(this.C=0)):0<this.C&&(this.C-=this.le*c,0>this.C&&(this.C=0)));v&&!d&&(this.C=0<this.C?this.C-(this.ge+this.le)*c:this.C-this.ge*c);d&&!v&&(this.C=0>this.C?this.C+(this.ge+this.le)*c:this.C+this.ge*c);this.C>this.De?this.C=this.De:this.C<-this.De&&(this.C=-this.De);v=!1;0!==this.C&&(n=this.c.x,l=this.c.y,a=this.C*c*this.Xd,b=this.C*c*this.Yd,this.c.x+=this.Xd*(1<this.C?1:-1)-this.ua,
this.c.y+=this.Yd*(1<this.C?1:-1)-this.va,this.c.r(),e=!1,f=this.b.ib(this.c),this.c.x=n+a,this.c.y=l+b,this.c.r(),d=this.b.ib(this.c),!d&&m&&(d=this.b.td(this.c))&&(this.c.x=n,this.c.y=l,this.c.r(),this.b.lc(this.c,d)?(d=null,e=!1):e=!0,this.c.x=n+a,this.c.y=l+b,this.c.r()),d?(a=Math.abs(this.C*c)+2,f||!this.b.ic(this.c,-this.ua,-this.va,a,e,d))?(this.b.Zf(this.c,d),a=Math.max(Math.abs(this.C*c*2.5),30),this.b.ic(this.c,this.Xd*(0>this.C?1:-1),this.Yd*(0>this.C?1:-1),a,!1)?!m||e||this.Og||(n=this.c.x,
l=this.c.y,this.c.x+=this.ua,this.c.y+=this.va,this.b.ib(this.c)?this.b.ic(this.c,-this.ua,-this.va,3,!1)||(this.c.x=n,this.c.y=l,this.c.r()):(this.c.x=n,this.c.y=l,this.c.r())):(this.c.x=n,this.c.y=l,this.c.r()),e||(this.C=0)):!f&&!w&&Math.abs(this.O)<Math.abs(this.Af/4)&&(this.O=0,m||(v=!0)):(n=this.ml(),m&&!n?(b=Math.ceil(Math.abs(this.C*c))+2,n=this.c.x,l=this.c.y,this.c.x+=this.ua*b,this.c.y+=this.va*b,this.c.r(),this.b.ib(this.c)||this.b.td(this.c)?this.b.ic(this.c,-this.ua,-this.va,b+2,!0):
(this.c.x=n,this.c.y=l,this.c.r())):n&&0===this.O&&this.b.Dj(this.c,-this.ua,-this.va,n)));if(0!==this.O){n=this.c.x;l=this.c.y;this.c.x+=this.O*c*this.ua;this.c.y+=this.O*c*this.va;a=this.c.x;d=this.c.y;this.c.r();b=this.b.ib(this.c);e=!1;if(!b&&0<this.O&&!m){if((e=0<this.ne?null:this.b.td(this.c,!0))&&e.length){if(this.pg){this.c.x=n;this.c.y=l;this.c.r();k=f=0;for(h=e.length;f<h;f++)e[k]=e[f],this.b.lc(this.c,e[f])||k++;e.length=k;this.c.x=a;this.c.y=d;this.c.r()}1<=e.length&&(b=e[0])}e=!!b}b&&
(this.b.Zf(this.c,b),this.$d=0,a=e?Math.abs(this.O*c*2.5+10):Math.max(Math.abs(this.O*c*2.5+10),30),this.b.ic(this.c,this.ua*(0>this.O?1:-1),this.va*(0>this.O?1:-1),a,e,b)?(this.sb=b,this.Nd=b.x,this.Od=b.y,(this.Og=e)&&(v=!0),this.O=0):(this.c.x=n,this.c.y=l,this.c.r(),this.Ue=!0,e||(this.O=0)))}3!==this.Ub&&0<this.O&&!m&&(this.b.trigger(Z.prototype.j.Ln,this.c),this.Ub=3);if(m||v)3===this.Ub||v||w&&0===this.O?(this.b.trigger(Z.prototype.j.ek,this.c),this.Ub=0===this.C&&0===this.O?0:1):(0!==this.Ub&&
0===this.C&&0===this.O&&(this.b.trigger(Z.prototype.j.kk,this.c),this.Ub=0),1===this.Ub||0===this.C&&0===this.O||w||(this.b.trigger(Z.prototype.j.hk,this.c),this.Ub=1));0<this.ne&&this.ne--;this.pg=this.b.td(this.c)}};e.prototype.yn=function(){return 0!==this.C||0!==this.O};e.prototype.dk=function(){return!0};e.prototype.Ln=function(){return!0};e.prototype.kk=function(){return!0};e.prototype.hk=function(){return!0};e.prototype.ek=function(){return!0};c.j=new e;n.prototype.Zn=function(c){switch(c){case 0:this.Bh=
!0;break;case 1:this.Ch=!0;break;case 2:this.eg=!0}};c.Ab=new n;c.Xb=new function(){}})();function Rb(e){this.b=e}(function(){var e=Rb.prototype;e.lb=function(c){this.behavior=c;this.b=c.b};e.lb.prototype.ea=function(){};e.Oa=function(c,e){this.type=c;this.behavior=c.behavior;this.c=e;this.b=c.b};var n=e.Oa.prototype;n.ea=function(){this.c.U.solidEnabled=0!==this.na[0]};n.Sc=function(){};e.j=new function(){};e.Ab=new function(){}})();
function Qb(){return[Tb,Sb,Y,Rb,Z,Ub,X.prototype.j.fk,Ub.prototype.Ab.Wn,Z.prototype.j.hk,Sb.prototype.Ab.Xn,Z.prototype.j.kk,Tb.prototype.j.xn,Sb.prototype.Ab.Yn,Z.prototype.j.dk,Z.prototype.j.ek,Z.prototype.j.yn,Y.prototype.j.zn,Z.prototype.Ab.Zn]};
